2025/02/07 20:12:44 routes.go:1259: INFO server config env="map[CUDA_VISIBLE_DEVICES:0 GPU_DEVICE_ORDINAL: HIP_VISIBLE_DEVICES: HSA_OVERRIDE_GFX_VERSION: HTTPS_PROXY: HTTP_PROXY: NO_PROXY: OLLAMA_DEBUG:false OLLAMA_FLASH_ATTENTION:false OLLAMA_GPU_OVERHEAD:0 OLLAMA_HOST:http://127.0.0.1:11434 OLLAMA_INTEL_GPU:false OLLAMA_KEEP_ALIVE:5m0s OLLAMA_KV_CACHE_TYPE: OLLAMA_LLM_LIBRARY: OLLAMA_LOAD_TIMEOUT:5m0s OLLAMA_MAX_LOADED_MODELS:0 OLLAMA_MAX_QUEUE:512 OLLAMA_MODELS:/scratch/gpfs/jx0800/models OLLAMA_MULTIUSER_CACHE:false OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:0 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://* vscode-webview://*] OLLAMA_SCHED_SPREAD:false ROCR_VISIBLE_DEVICES: http_proxy: https_proxy: no_proxy:]"
time=2025-02-07T20:12:44.943-05:00 level=INFO source=images.go:757 msg="total blobs: 18"
time=2025-02-07T20:12:44.944-05:00 level=INFO source=images.go:764 msg="total unused blobs removed: 0"
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] POST   /api/pull                 --> github.com/ollama/ollama/server.(*Server).PullHandler-fm (5 handlers)
[GIN-debug] POST   /api/generate             --> github.com/ollama/ollama/server.(*Server).GenerateHandler-fm (5 handlers)
[GIN-debug] POST   /api/chat                 --> github.com/ollama/ollama/server.(*Server).ChatHandler-fm (5 handlers)
[GIN-debug] POST   /api/embed                --> github.com/ollama/ollama/server.(*Server).EmbedHandler-fm (5 handlers)
[GIN-debug] POST   /api/embeddings           --> github.com/ollama/ollama/server.(*Server).EmbeddingsHandler-fm (5 handlers)
[GIN-debug] POST   /api/create               --> github.com/ollama/ollama/server.(*Server).CreateHandler-fm (5 handlers)
[GIN-debug] POST   /api/push                 --> github.com/ollama/ollama/server.(*Server).PushHandler-fm (5 handlers)
[GIN-debug] POST   /api/copy                 --> github.com/ollama/ollama/server.(*Server).CopyHandler-fm (5 handlers)
[GIN-debug] DELETE /api/delete               --> github.com/ollama/ollama/server.(*Server).DeleteHandler-fm (5 handlers)
[GIN-debug] POST   /api/show                 --> github.com/ollama/ollama/server.(*Server).ShowHandler-fm (5 handlers)
[GIN-debug] POST   /api/blobs/:digest        --> github.com/ollama/ollama/server.(*Server).CreateBlobHandler-fm (5 handlers)
[GIN-debug] HEAD   /api/blobs/:digest        --> github.com/ollama/ollama/server.(*Server).HeadBlobHandler-fm (5 handlers)
[GIN-debug] GET    /api/ps                   --> github.com/ollama/ollama/server.(*Server).PsHandler-fm (5 handlers)
[GIN-debug] POST   /v1/chat/completions      --> github.com/ollama/ollama/server.(*Server).ChatHandler-fm (6 handlers)
[GIN-debug] POST   /v1/completions           --> github.com/ollama/ollama/server.(*Server).GenerateHandler-fm (6 handlers)
[GIN-debug] POST   /v1/embeddings            --> github.com/ollama/ollama/server.(*Server).EmbedHandler-fm (6 handlers)
[GIN-debug] GET    /v1/models                --> github.com/ollama/ollama/server.(*Server).ListHandler-fm (6 handlers)
[GIN-debug] GET    /v1/models/:model         --> github.com/ollama/ollama/server.(*Server).ShowHandler-fm (6 handlers)
[GIN-debug] GET    /                         --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func1 (5 handlers)
[GIN-debug] GET    /api/tags                 --> github.com/ollama/ollama/server.(*Server).ListHandler-fm (5 handlers)
[GIN-debug] GET    /api/version              --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func2 (5 handlers)
[GIN-debug] HEAD   /                         --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func1 (5 handlers)
[GIN-debug] HEAD   /api/tags                 --> github.com/ollama/ollama/server.(*Server).ListHandler-fm (5 handlers)
[GIN-debug] HEAD   /api/version              --> github.com/ollama/ollama/server.(*Server).GenerateRoutes.func2 (5 handlers)
time=2025-02-07T20:12:44.944-05:00 level=INFO source=routes.go:1310 msg="Listening on 127.0.0.1:11434 (version 0.5.4)"
time=2025-02-07T20:12:44.954-05:00 level=INFO source=routes.go:1339 msg="Dynamic LLM libraries" runners="[cpu_avx cpu_avx2 cuda_v11_avx cuda_v12_avx rocm_avx cpu]"
time=2025-02-07T20:12:44.954-05:00 level=INFO source=gpu.go:226 msg="looking for compatible GPUs"
time=2025-02-07T20:12:45.393-05:00 level=INFO source=types.go:131 msg="inference compute" id=GPU-ebee4800-f39c-94fe-5d9b-edfa91c00f40 library=cuda variant=v12 compute=8.0 driver=12.6 name="NVIDIA A100-PCIE-40GB" total="39.5 GiB" available="39.1 GiB"


config_path: /scratch/gpfs/jx0800/data/graphrag/settings.yaml
config in cli.query.py 125: {
    "root_dir": "/scratch/gpfs/jx0800/data/graphrag",
    "models": {
        "default_chat_model": {
            "api_key": "eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJWd1h0dnprLVRvdzlLZWstc0M1akptWXBvX1VaVkxUZlpnMDRlOFUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJnb29nbGUtb2F1dGgyfDExMjIwNjUyMzA1MjU3MzA4NzcxMSIsInNjb3BlIjoib3BlbmlkIG9mZmxpbmVfYWNjZXNzIiwiaXNzIjoiYXBpX2tleV9pc3N1ZXIiLCJhdWQiOlsiaHR0cHM6Ly9uZWJpdXMtaW5mZXJlbmNlLmV1LmF1dGgwLmNvbS9hcGkvdjIvIl0sImV4cCI6MTg5NTczNDQxMywidXVpZCI6IjNmMGNjOTczLTI2ODEtNDY3Yi04ZjJiLWNhZDFlZmE2MThjMCIsIm5hbWUiOiJ0ZXN0IiwiZXhwaXJlc19hdCI6IjIwMzAtMDEtMjdUMDg6NTM6MzMrMDAwMCJ9.G6SMzeru88oakNW_MmeQIlWy6WviW1TE_vcfeVgUmHw",
            "azure_auth_type": null,
            "type": "openai_chat",
            "model": "llama3.2:3b",
            "encoding_model": "cl100k_base",
            "max_tokens": 20000,
            "temperature": 0.6,
            "top_p": 0.9,
            "n": 1,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0,
            "request_timeout": 180.0,
            "api_base": "http://localhost:11434/v1",
            "api_version": null,
            "deployment_name": null,
            "organization": null,
            "proxy": null,
            "audience": null,
            "model_supports_json": true,
            "tokens_per_minute": 50000,
            "requests_per_minute": 1000,
            "max_retries": 10,
            "max_retry_wait": 10.0,
            "sleep_on_rate_limit_recommendation": true,
            "concurrent_requests": 25,
            "responses": null,
            "parallelization_stagger": 0.3,
            "parallelization_num_threads": 50,
            "async_mode": "threaded"
        },
        "default_embedding_model": {
            "api_key": "eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJWd1h0dnprLVRvdzlLZWstc0M1akptWXBvX1VaVkxUZlpnMDRlOFUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJnb29nbGUtb2F1dGgyfDExMjIwNjUyMzA1MjU3MzA4NzcxMSIsInNjb3BlIjoib3BlbmlkIG9mZmxpbmVfYWNjZXNzIiwiaXNzIjoiYXBpX2tleV9pc3N1ZXIiLCJhdWQiOlsiaHR0cHM6Ly9uZWJpdXMtaW5mZXJlbmNlLmV1LmF1dGgwLmNvbS9hcGkvdjIvIl0sImV4cCI6MTg5NTczNDQxMywidXVpZCI6IjNmMGNjOTczLTI2ODEtNDY3Yi04ZjJiLWNhZDFlZmE2MThjMCIsIm5hbWUiOiJ0ZXN0IiwiZXhwaXJlc19hdCI6IjIwMzAtMDEtMjdUMDg6NTM6MzMrMDAwMCJ9.G6SMzeru88oakNW_MmeQIlWy6WviW1TE_vcfeVgUmHw",
            "azure_auth_type": null,
            "type": "openai_embedding",
            "model": "nomic-embed-text",
            "encoding_model": "cl100k_base",
            "max_tokens": 20000,
            "temperature": 0.6,
            "top_p": 0.9,
            "n": 1,
            "frequency_penalty": 0.0,
            "presence_penalty": 0.0,
            "request_timeout": 180.0,
            "api_base": "http://localhost:11434/api",
            "api_version": null,
            "deployment_name": null,
            "organization": null,
            "proxy": null,
            "audience": null,
            "model_supports_json": null,
            "tokens_per_minute": 50000,
            "requests_per_minute": 1000,
            "max_retries": 10,
            "max_retry_wait": 10.0,
            "sleep_on_rate_limit_recommendation": true,
            "concurrent_requests": 25,
            "responses": null,
            "parallelization_stagger": 0.3,
            "parallelization_num_threads": 50,
            "async_mode": "threaded"
        }
    },
    "reporting": {
        "type": "file",
        "base_dir": "/scratch/gpfs/jx0800/data/graphrag/logs",
        "connection_string": null,
        "container_name": null,
        "storage_account_blob_url": null
    },
    "output": {
        "type": "file",
        "base_dir": "/scratch/gpfs/jx0800/data/graphrag/output",
        "connection_string": null,
        "container_name": null,
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "update_index_output": null,
    "cache": {
        "type": "file",
        "base_dir": "cache",
        "connection_string": null,
        "container_name": null,
        "storage_account_blob_url": null,
        "cosmosdb_account_url": null
    },
    "input": {
        "type": "file",
        "file_type": "text",
        "base_dir": "input",
        "connection_string": null,
        "storage_account_blob_url": null,
        "container_name": null,
        "encoding": "utf-8",
        "file_pattern": ".*\\.txt$",
        "file_filter": null,
        "source_column": null,
        "timestamp_column": null,
        "timestamp_format": null,
        "text_column": "text",
        "title_column": null,
        "document_attribute_columns": []
    },
    "embed_graph": {
        "enabled": false,
        "dimensions": 1536,
        "num_walks": 10,
        "walk_length": 40,
        "window_size": 2,
        "iterations": 3,
        "random_seed": 597832,
        "use_lcc": true
    },
    "embeddings": {
        "batch_size": 16,
        "batch_max_tokens": 8191,
        "target": "required",
        "names": [],
        "strategy": null,
        "model_id": "default_embedding_model"
    },
    "chunks": {
        "size": 1200,
        "overlap": 100,
        "group_by_columns": [
            "id"
        ],
        "strategy": "tokens",
        "encoding_model": "cl100k_base"
    },
    "snapshots": {
        "embeddings": false,
        "graphml": false,
        "transient": false
    },
    "entity_extraction": {
        "prompt": "prompts/entity_extraction.txt",
        "entity_types": [
            "organization",
            "person",
            "geo",
            "event"
        ],
        "max_gleanings": 1,
        "strategy": null,
        "encoding_model": null,
        "model_id": "default_chat_model"
    },
    "summarize_descriptions": {
        "prompt": "prompts/summarize_descriptions.txt",
        "max_length": 500,
        "strategy": null,
        "model_id": "default_chat_model"
    },
    "community_reports": {
        "prompt": "prompts/community_report.txt",
        "max_length": 2000,
        "max_input_length": 8000,
        "strategy": null,
        "model_id": "default_chat_model"
    },
    "claim_extraction": {
        "enabled": false,
        "prompt": "prompts/claim_extraction.txt",
        "description": "Any claims or facts that could be relevant to information discovery.",
        "max_gleanings": 1,
        "strategy": null,
        "encoding_model": null,
        "model_id": "default_chat_model"
    },
    "cluster_graph": {
        "max_cluster_size": 10,
        "use_lcc": true,
        "seed": 3735928559
    },
    "umap": {
        "enabled": false
    },
    "local_search": {
        "prompt": "prompts/local_search_system_prompt.txt",
        "text_unit_prop": 0.5,
        "community_prop": 0.15,
        "conversation_history_max_turns": 5,
        "top_k_entities": 10,
        "top_k_relationships": 10,
        "temperature": 0.6,
        "top_p": 0.9,
        "n": 1,
        "max_tokens": 20000,
        "llm_max_tokens": 20000
    },
    "global_search": {
        "map_prompt": "prompts/global_search_map_system_prompt.txt",
        "reduce_prompt": "prompts/global_search_reduce_system_prompt.txt",
        "knowledge_prompt": "prompts/global_search_knowledge_system_prompt.txt",
        "temperature": 0.0,
        "top_p": 1.0,
        "n": 1,
        "max_tokens": 12000,
        "data_max_tokens": 12000,
        "map_max_tokens": 1000,
        "reduce_max_tokens": 2000,
        "concurrency": 32,
        "dynamic_search_llm": "gpt-4o-mini",
        "dynamic_search_threshold": 1,
        "dynamic_search_keep_parent": false,
        "dynamic_search_num_repeats": 1,
        "dynamic_search_use_summary": false,
        "dynamic_search_concurrent_coroutines": 16,
        "dynamic_search_max_level": 2
    },
    "drift_search": {
        "prompt": "prompts/drift_search_system_prompt.txt",
        "reduce_prompt": "prompts/drift_search_reduce_prompt.txt",
        "temperature": 0.0,
        "top_p": 1.0,
        "n": 3,
        "max_tokens": 12000,
        "data_max_tokens": 12000,
        "reduce_max_tokens": 2000,
        "reduce_temperature": 0.0,
        "concurrency": 32,
        "drift_k_followups": 20,
        "primer_folds": 5,
        "primer_llm_max_tokens": 12000,
        "n_depth": 3,
        "local_search_text_unit_prop": 0.9,
        "local_search_community_prop": 0.1,
        "local_search_top_k_mapped_entities": 10,
        "local_search_top_k_relationships": 10,
        "local_search_max_data_tokens": 12000,
        "local_search_temperature": 0.0,
        "local_search_top_p": 1.0,
        "local_search_n": 1,
        "local_search_llm_max_gen_tokens": 2000
    },
    "basic_search": {
        "prompt": "prompts/basic_search_system_prompt.txt",
        "text_unit_prop": 0.5,
        "conversation_history_max_turns": 5,
        "temperature": 0.0,
        "top_p": 1.0,
        "n": 1,
        "max_tokens": 12000,
        "llm_max_tokens": 2000
    },
    "vector_store": {
        "output": {
            "type": "lancedb",
            "db_uri": "/scratch/gpfs/jx0800/data/graphrag/output/lancedb",
            "url": null,
            "api_key": null,
            "audience": null,
            "container_name": "default",
            "database_name": null,
            "overwrite": true
        }
    }
}
streaming:  False

INFO: Vector Store Args: {
    "output": {
        "type": "lancedb",
        "db_uri": "/scratch/gpfs/jx0800/data/graphrag/output/lancedb",
        "url": null,
        "audience": null,
        "container_name": "==== REDACTED ====",
        "database_name": null,
        "overwrite": true
    }
}
creating llm client with {'api_key': 'REDACTED,len=515', 'azure_auth_type': None, 'type': "openai_chat", 'model': 'llama3.2:3b', 'encoding_model': 'cl100k_base', 'max_tokens': 20000, 'temperature': 0.6, 'top_p': 0.9, 'n': 1, 'frequency_penalty': 0.0, 'presence_penalty': 0.0, 'request_timeout': 180.0, 'api_base': 'http://localhost:11434/v1', 'api_version': None, 'deployment_name': None, 'organization': None, 'proxy': None, 'audience': None, 'model_supports_json': True, 'tokens_per_minute': 50000, 'requests_per_minute': 1000, 'max_retries': 10, 'max_retry_wait': 10.0, 'sleep_on_rate_limit_recommendation': True, 'concurrent_requests': 25, 'responses': None, 'parallelization_stagger': 0.3, 'parallelization_num_threads': 50, 'async_mode': <AsyncType.Threaded: 'threaded'>}
creating embedding llm client with {'api_key': 'REDACTED,len=515', 'azure_auth_type': None, 'type': "openai_embedding", 'model': 'nomic-embed-text', 'encoding_model': 'cl100k_base', 'max_tokens': 20000, 'temperature': 0.6, 'top_p': 0.9, 'n': 1, 'frequency_penalty': 0.0, 'presence_penalty': 0.0, 'request_timeout': 180.0, 'api_base': 'http://localhost:11434/api', 'api_version': None, 'deployment_name': None, 'organization': None, 'proxy': None, 'audience': None, 'model_supports_json': None, 'tokens_per_minute': 50000, 'requests_per_minute': 1000, 'max_retries': 10, 'max_retry_wait': 10.0, 'sleep_on_rate_limit_recommendation': True, 'concurrent_requests': 25, 'responses': None, 'parallelization_stagger': 0.3, 'parallelization_num_threads': 50, 'async_mode': <AsyncType.Threaded: 'threaded'>}
╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ction.py:199 in _new_conn                                                    │
│                                                                              │
│    196 │   │   :return: New socket connection.                               │
│    197 │   │   """                                                           │
│    198 │   │   try:                                                          │
│ ❱  199 │   │   │   sock = connection.create_connection(                      │
│    200 │   │   │   │   (self._dns_host, self.port),                          │
│    201 │   │   │   │   self.timeout,                                         │
│    202 │   │   │   │   source_address=self.source_address,                   │
│                                                                              │
│ ╭─────────────────────────────── locals ───────────────────────────────╮     │
│ │ self = <urllib3.connection.HTTPSConnection object at 0x1529d81521d0> │     │
│ ╰──────────────────────────────────────────────────────────────────────╯     │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/util/ │
│ connection.py:60 in create_connection                                        │
│                                                                              │
│    57 │   except UnicodeError:                                               │
│    58 │   │   raise LocationParseError(f"'{host}', label empty or too long") │
│    59 │                                                                      │
│ ❱  60 │   for res in socket.getaddrinfo(host, port, family, socket.SOCK_STRE │
│    61 │   │   af, socktype, proto, canonname, sa = res                       │
│    62 │   │   sock = None                                                    │
│    63 │   │   try:                                                           │
│                                                                              │
│ ╭─────────────────────────── locals ───────────────────────────╮             │
│ │        address = ('openaipublic.blob.core.windows.net', 443) │             │
│ │            err = None                                        │             │
│ │         family = <AddressFamily.AF_UNSPEC: 0>                │             │
│ │           host = 'openaipublic.blob.core.windows.net'        │             │
│ │           port = 443                                         │             │
│ │ socket_options = [(6, 1, 1)]                                 │             │
│ │ source_address = None                                        │             │
│ │        timeout = None                                        │             │
│ ╰──────────────────────────────────────────────────────────────╯             │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/socket.py:961 in            │
│ getaddrinfo                                                                  │
│                                                                              │
│   958 │   # We override this function since we want to translate the numeric │
│   959 │   # and socket type values to enum constants.                        │
│   960 │   addrlist = []                                                      │
│ ❱ 961 │   for res in _socket.getaddrinfo(host, port, family, type, proto, fl │
│   962 │   │   af, socktype, proto, canonname, sa = res                       │
│   963 │   │   addrlist.append((_intenum_converter(af, AddressFamily),        │
│   964 │   │   │   │   │   │    _intenum_converter(socktype, SocketKind),     │
│                                                                              │
│ ╭──────────────────── locals ─────────────────────╮                          │
│ │ addrlist = []                                   │                          │
│ │   family = <AddressFamily.AF_UNSPEC: 0>         │                          │
│ │    flags = 0                                    │                          │
│ │     host = 'openaipublic.blob.core.windows.net' │                          │
│ │     port = 443                                  │                          │
│ │    proto = 0                                    │                          │
│ │     type = <SocketKind.SOCK_STREAM: 1>          │                          │
│ ╰─────────────────────────────────────────────────╯                          │
╰──────────────────────────────────────────────────────────────────────────────╯
gaierror: [Errno -2] Name or service not known

The above exception was the direct cause of the following exception:

╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ctionpool.py:789 in urlopen                                                  │
│                                                                              │
│    786 │   │   │   response_conn = conn if not release_conn else None        │
│    787 │   │   │                                                             │
│    788 │   │   │   # Make the request on the HTTPConnection object           │
│ ❱  789 │   │   │   response = self._make_request(                            │
│    790 │   │   │   │   conn,                                                 │
│    791 │   │   │   │   method,                                               │
│    792 │   │   │   │   url,                                                  │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │     assert_same_host = False                                             │ │
│ │                 body = None                                              │ │
│ │             body_pos = None                                              │ │
│ │              chunked = False                                             │ │
│ │           clean_exit = False                                             │ │
│ │                 conn = None                                              │ │
│ │       decode_content = False                                             │ │
│ │   destination_scheme = None                                              │ │
│ │                  err = None                                              │ │
│ │              headers = {'User-Agent': 'python-requests/2.32.3',          │ │
│ │                        'Accept-Encoding': 'gzip, deflate, br', 'Accept': │ │
│ │                        '*/*', 'Connection': 'keep-alive'}                │ │
│ │ http_tunnel_required = False                                             │ │
│ │               method = 'GET'                                             │ │
│ │                new_e = NameResolutionError("<urllib3.connection.HTTPSCo… │ │
│ │                        object at 0x1529d81521d0>: Failed to resolve      │ │
│ │                        'openaipublic.blob.core.windows.net' ([Errno -2]  │ │
│ │                        Name or service not known)")                      │ │
│ │           parsed_url = Url(                                              │ │
│ │                        │   scheme=None,                                  │ │
│ │                        │   auth=None,                                    │ │
│ │                        │   host=None,                                    │ │
│ │                        │   port=None,                                    │ │
│ │                        │   path='/encodings/cl100k_base.tiktoken',       │ │
│ │                        │   query=None,                                   │ │
│ │                        │   fragment=None                                 │ │
│ │                        )                                                 │ │
│ │         pool_timeout = None                                              │ │
│ │      preload_content = False                                             │ │
│ │             redirect = False                                             │ │
│ │         release_conn = False                                             │ │
│ │    release_this_conn = True                                              │ │
│ │        response_conn = <urllib3.connection.HTTPSConnection object at     │ │
│ │                        0x1529d81521d0>                                   │ │
│ │          response_kw = {}                                                │ │
│ │              retries = Retry(total=0, connect=None, read=False,          │ │
│ │                        redirect=None, status=None)                       │ │
│ │                 self = <urllib3.connectionpool.HTTPSConnectionPool       │ │
│ │                        object at 0x1529dad28850>                         │ │
│ │              timeout = Timeout(connect=None, read=None, total=None)      │ │
│ │          timeout_obj = Timeout(connect=None, read=None, total=None)      │ │
│ │                  url = '/encodings/cl100k_base.tiktoken'                 │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ctionpool.py:490 in _make_request                                            │
│                                                                              │
│    487 │   │   │   │   new_e, (OSError, NewConnectionError, TimeoutError, SS │
│    488 │   │   │   ) and (conn and conn.proxy and not conn.has_connected_to_ │
│    489 │   │   │   │   new_e = _wrap_proxy_error(new_e, conn.proxy.scheme)   │
│ ❱  490 │   │   │   raise new_e                                               │
│    491 │   │                                                                 │
│    492 │   │   # conn.request() calls http.client.*.request, not the method  │
│    493 │   │   # urllib3.request. It also calls makefile (recv) on the socke │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │                   body = None                                            │ │
│ │                chunked = False                                           │ │
│ │                   conn = <urllib3.connection.HTTPSConnection object at   │ │
│ │                          0x1529d81521d0>                                 │ │
│ │         decode_content = False                                           │ │
│ │ enforce_content_length = True                                            │ │
│ │                headers = {'User-Agent': 'python-requests/2.32.3',        │ │
│ │                          'Accept-Encoding': 'gzip, deflate, br',         │ │
│ │                          'Accept': '*/*', 'Connection': 'keep-alive'}    │ │
│ │                 method = 'GET'                                           │ │
│ │                  new_e = NameResolutionError("<urllib3.connection.HTTPS… │ │
│ │                          object at 0x1529d81521d0>: Failed to resolve    │ │
│ │                          'openaipublic.blob.core.windows.net' ([Errno    │ │
│ │                          -2] Name or service not known)")                │ │
│ │        preload_content = False                                           │ │
│ │          response_conn = <urllib3.connection.HTTPSConnection object at   │ │
│ │                          0x1529d81521d0>                                 │ │
│ │                retries = Retry(total=0, connect=None, read=False,        │ │
│ │                          redirect=None, status=None)                     │ │
│ │                   self = <urllib3.connectionpool.HTTPSConnectionPool     │ │
│ │                          object at 0x1529dad28850>                       │ │
│ │                timeout = Timeout(connect=None, read=None, total=None)    │ │
│ │            timeout_obj = Timeout(connect=None, read=None, total=None)    │ │
│ │                    url = '/encodings/cl100k_base.tiktoken'               │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ctionpool.py:466 in _make_request                                            │
│                                                                              │
│    463 │   │   try:                                                          │
│    464 │   │   │   # Trigger any extra validation we need to do.             │
│    465 │   │   │   try:                                                      │
│ ❱  466 │   │   │   │   self._validate_conn(conn)                             │
│    467 │   │   │   except (SocketTimeout, BaseSSLError) as e:                │
│    468 │   │   │   │   self._raise_timeout(err=e, url=url, timeout_value=con │
│    469 │   │   │   │   raise                                                 │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │                   body = None                                            │ │
│ │                chunked = False                                           │ │
│ │                   conn = <urllib3.connection.HTTPSConnection object at   │ │
│ │                          0x1529d81521d0>                                 │ │
│ │         decode_content = False                                           │ │
│ │ enforce_content_length = True                                            │ │
│ │                headers = {'User-Agent': 'python-requests/2.32.3',        │ │
│ │                          'Accept-Encoding': 'gzip, deflate, br',         │ │
│ │                          'Accept': '*/*', 'Connection': 'keep-alive'}    │ │
│ │                 method = 'GET'                                           │ │
│ │                  new_e = NameResolutionError("<urllib3.connection.HTTPS… │ │
│ │                          object at 0x1529d81521d0>: Failed to resolve    │ │
│ │                          'openaipublic.blob.core.windows.net' ([Errno    │ │
│ │                          -2] Name or service not known)")                │ │
│ │        preload_content = False                                           │ │
│ │          response_conn = <urllib3.connection.HTTPSConnection object at   │ │
│ │                          0x1529d81521d0>                                 │ │
│ │                retries = Retry(total=0, connect=None, read=False,        │ │
│ │                          redirect=None, status=None)                     │ │
│ │                   self = <urllib3.connectionpool.HTTPSConnectionPool     │ │
│ │                          object at 0x1529dad28850>                       │ │
│ │                timeout = Timeout(connect=None, read=None, total=None)    │ │
│ │            timeout_obj = Timeout(connect=None, read=None, total=None)    │ │
│ │                    url = '/encodings/cl100k_base.tiktoken'               │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ctionpool.py:1095 in _validate_conn                                          │
│                                                                              │
│   1092 │   │                                                                 │
│   1093 │   │   # Force connect early to allow us to validate the connection. │
│   1094 │   │   if conn.is_closed:                                            │
│ ❱ 1095 │   │   │   conn.connect()                                            │
│   1096 │   │                                                                 │
│   1097 │   │   # TODO revise this, see https://github.com/urllib3/urllib3/is │
│   1098 │   │   if not conn.is_verified and not conn.proxy_is_verified:       │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │ conn = <urllib3.connection.HTTPSConnection object at 0x1529d81521d0>     │ │
│ │ self = <urllib3.connectionpool.HTTPSConnectionPool object at             │ │
│ │        0x1529dad28850>                                                   │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ction.py:693 in connect                                                      │
│                                                                              │
│    690 │   │                                                                 │
│    691 │   │   try:                                                          │
│    692 │   │   │   sock: socket.socket | ssl.SSLSocket                       │
│ ❱  693 │   │   │   self.sock = sock = self._new_conn()                       │
│    694 │   │   │   server_hostname: str = self.host                          │
│    695 │   │   │   tls_in_tls = False                                        │
│    696                                                                       │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │      probe_http2_host = 'openaipublic.blob.core.windows.net'             │ │
│ │      probe_http2_port = 443                                              │ │
│ │                  self = <urllib3.connection.HTTPSConnection object at    │ │
│ │                         0x1529d81521d0>                                  │ │
│ │ target_supports_http2 = False                                            │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ction.py:206 in _new_conn                                                    │
│                                                                              │
│    203 │   │   │   │   socket_options=self.socket_options,                   │
│    204 │   │   │   )                                                         │
│    205 │   │   except socket.gaierror as e:                                  │
│ ❱  206 │   │   │   raise NameResolutionError(self.host, self, e) from e      │
│    207 │   │   except SocketTimeout as e:                                    │
│    208 │   │   │   raise ConnectTimeoutError(                                │
│    209 │   │   │   │   self,                                                 │
│                                                                              │
│ ╭─────────────────────────────── locals ───────────────────────────────╮     │
│ │ self = <urllib3.connection.HTTPSConnection object at 0x1529d81521d0> │     │
│ ╰──────────────────────────────────────────────────────────────────────╯     │
╰──────────────────────────────────────────────────────────────────────────────╯
NameResolutionError: <urllib3.connection.HTTPSConnection object at 
0x1529d81521d0>: Failed to resolve 'openaipublic.blob.core.windows.net' ([Errno 
-2] Name or service not known)

The above exception was the direct cause of the following exception:

╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/requests/adap │
│ ters.py:667 in send                                                          │
│                                                                              │
│   664 │   │   │   timeout = TimeoutSauce(connect=timeout, read=timeout)      │
│   665 │   │                                                                  │
│   666 │   │   try:                                                           │
│ ❱ 667 │   │   │   resp = conn.urlopen(                                       │
│   668 │   │   │   │   method=request.method,                                 │
│   669 │   │   │   │   url=url,                                               │
│   670 │   │   │   │   body=request.body,                                     │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │    cert = None                                                           │ │
│ │ chunked = False                                                          │ │
│ │    conn = <urllib3.connectionpool.HTTPSConnectionPool object at          │ │
│ │           0x1529dad28850>                                                │ │
│ │ proxies = OrderedDict()                                                  │ │
│ │ request = <PreparedRequest [GET]>                                        │ │
│ │    self = <requests.adapters.HTTPAdapter object at 0x1529db71e910>       │ │
│ │  stream = False                                                          │ │
│ │ timeout = Timeout(connect=None, read=None, total=None)                   │ │
│ │     url = '/encodings/cl100k_base.tiktoken'                              │ │
│ │  verify = True                                                           │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/conne │
│ ctionpool.py:843 in urlopen                                                  │
│                                                                              │
│    840 │   │   │   elif isinstance(new_e, (OSError, HTTPException)):         │
│    841 │   │   │   │   new_e = ProtocolError("Connection aborted.", new_e)   │
│    842 │   │   │                                                             │
│ ❱  843 │   │   │   retries = retries.increment(                              │
│    844 │   │   │   │   method, url, error=new_e, _pool=self, _stacktrace=sys │
│    845 │   │   │   )                                                         │
│    846 │   │   │   retries.sleep()                                           │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │     assert_same_host = False                                             │ │
│ │                 body = None                                              │ │
│ │             body_pos = None                                              │ │
│ │              chunked = False                                             │ │
│ │           clean_exit = False                                             │ │
│ │                 conn = None                                              │ │
│ │       decode_content = False                                             │ │
│ │   destination_scheme = None                                              │ │
│ │                  err = None                                              │ │
│ │              headers = {'User-Agent': 'python-requests/2.32.3',          │ │
│ │                        'Accept-Encoding': 'gzip, deflate, br', 'Accept': │ │
│ │                        '*/*', 'Connection': 'keep-alive'}                │ │
│ │ http_tunnel_required = False                                             │ │
│ │               method = 'GET'                                             │ │
│ │                new_e = NameResolutionError("<urllib3.connection.HTTPSCo… │ │
│ │                        object at 0x1529d81521d0>: Failed to resolve      │ │
│ │                        'openaipublic.blob.core.windows.net' ([Errno -2]  │ │
│ │                        Name or service not known)")                      │ │
│ │           parsed_url = Url(                                              │ │
│ │                        │   scheme=None,                                  │ │
│ │                        │   auth=None,                                    │ │
│ │                        │   host=None,                                    │ │
│ │                        │   port=None,                                    │ │
│ │                        │   path='/encodings/cl100k_base.tiktoken',       │ │
│ │                        │   query=None,                                   │ │
│ │                        │   fragment=None                                 │ │
│ │                        )                                                 │ │
│ │         pool_timeout = None                                              │ │
│ │      preload_content = False                                             │ │
│ │             redirect = False                                             │ │
│ │         release_conn = False                                             │ │
│ │    release_this_conn = True                                              │ │
│ │        response_conn = <urllib3.connection.HTTPSConnection object at     │ │
│ │                        0x1529d81521d0>                                   │ │
│ │          response_kw = {}                                                │ │
│ │              retries = Retry(total=0, connect=None, read=False,          │ │
│ │                        redirect=None, status=None)                       │ │
│ │                 self = <urllib3.connectionpool.HTTPSConnectionPool       │ │
│ │                        object at 0x1529dad28850>                         │ │
│ │              timeout = Timeout(connect=None, read=None, total=None)      │ │
│ │          timeout_obj = Timeout(connect=None, read=None, total=None)      │ │
│ │                  url = '/encodings/cl100k_base.tiktoken'                 │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/urllib3/util/ │
│ retry.py:519 in increment                                                    │
│                                                                              │
│   516 │   │                                                                  │
│   517 │   │   if new_retry.is_exhausted():                                   │
│   518 │   │   │   reason = error or ResponseError(cause)                     │
│ ❱ 519 │   │   │   raise MaxRetryError(_pool, url, reason) from reason  # typ │
│   520 │   │                                                                  │
│   521 │   │   log.debug("Incremented Retry for (url='%s'): %r", url, new_ret │
│   522                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │             _pool = <urllib3.connectionpool.HTTPSConnectionPool object   │ │
│ │                     at 0x1529dad28850>                                   │ │
│ │       _stacktrace = <traceback object at 0x1529db6f09c0>                 │ │
│ │             cause = 'unknown'                                            │ │
│ │           connect = None                                                 │ │
│ │             error = NameResolutionError("<urllib3.connection.HTTPSConne… │ │
│ │                     object at 0x1529d81521d0>: Failed to resolve         │ │
│ │                     'openaipublic.blob.core.windows.net' ([Errno -2]     │ │
│ │                     Name or service not known)")                         │ │
│ │           history = (                                                    │ │
│ │                     │   RequestHistory(                                  │ │
│ │                     │   │   method='GET',                                │ │
│ │                     │   │   url='/encodings/cl100k_base.tiktoken',       │ │
│ │                     │   │                                                │ │
│ │                     error=NameResolutionError("<urllib3.connection.HTTP… │ │
│ │                     object at 0x1529d81521d0>: Failed to resolve         │ │
│ │                     'openaipublic.blob.core.windows.net' ([Errno -2]     │ │
│ │                     Name or service not known)"),                        │ │
│ │                     │   │   status=None,                                 │ │
│ │                     │   │   redirect_location=None                       │ │
│ │                     │   ),                                               │ │
│ │                     )                                                    │ │
│ │            method = 'GET'                                                │ │
│ │         new_retry = Retry(total=-1, connect=None, read=False,            │ │
│ │                     redirect=None, status=None)                          │ │
│ │             other = None                                                 │ │
│ │              read = False                                                │ │
│ │            reason = NameResolutionError("<urllib3.connection.HTTPSConne… │ │
│ │                     object at 0x1529d81521d0>: Failed to resolve         │ │
│ │                     'openaipublic.blob.core.windows.net' ([Errno -2]     │ │
│ │                     Name or service not known)")                         │ │
│ │          redirect = None                                                 │ │
│ │ redirect_location = None                                                 │ │
│ │          response = None                                                 │ │
│ │              self = Retry(total=0, connect=None, read=False,             │ │
│ │                     redirect=None, status=None)                          │ │
│ │            status = None                                                 │ │
│ │      status_count = None                                                 │ │
│ │             total = -1                                                   │ │
│ │               url = '/encodings/cl100k_base.tiktoken'                    │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
MaxRetryError: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', 
port=443): Max retries exceeded with url: /encodings/cl100k_base.tiktoken 
(Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 
0x1529d81521d0>: Failed to resolve 'openaipublic.blob.core.windows.net' ([Errno 
-2] Name or service not known)"))

During handling of the above exception, another exception occurred:

╭───────────────────── Traceback (most recent call last) ──────────────────────╮
│ /home/jx0800/graphrag/graphrag/cli/main.py:437 in _query_cli                 │
│                                                                              │
│   434 │                                                                      │
│   435 │   match method:                                                      │
│   436 │   │   case SearchType.LOCAL:                                         │
│ ❱ 437 │   │   │   run_local_search(                                          │
│   438 │   │   │   │   config_filepath=config,                                │
│   439 │   │   │   │   data_dir=data,                                         │
│   440 │   │   │   │   root_dir=root,                                         │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │             community_level = 2                                          │ │
│ │                      config = None                                       │ │
│ │                        data = None                                       │ │
│ │ dynamic_community_selection = False                                      │ │
│ │                      method = <SearchType.LOCAL: 'local'>                │ │
│ │                       query = "What's the difference between CNN and     │ │
│ │                               GNN? Concluse the pros and cons."          │ │
│ │               response_type = 'Multiple Paragraphs'                      │ │
│ │                        root = PosixPath('/scratch/gpfs/jx0800/data/grap… │ │
│ │                   streaming = False                                      │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/graphrag/graphrag/cli/query.py:182 in run_local_search          │
│                                                                              │
│   179 │   │                                                                  │
│   180 │   │   return asyncio.run(run_streaming_search())                     │
│   181 │   # not streaming                                                    │
│ ❱ 182 │   response, context_data = asyncio.run(                              │
│   183 │   │   api.local_search(                                              │
│   184 │   │   │   config=config,                                             │
│   185 │   │   │   nodes=final_nodes,                                         │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │           cli_overrides = {}                                             │ │
│ │         community_level = 2                                              │ │
│ │                  config = GraphRagConfig(                                │ │
│ │                           │                                              │ │
│ │                           root_dir='/scratch/gpfs/jx0800/data/graphrag', │ │
│ │                           │   models={                                   │ │
│ │                           │   │   'default_chat_model':                  │ │
│ │                           LanguageModelConfig(                           │ │
│ │                           │   │   │                                      │ │
│ │                           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJW… │ │
│ │                           │   │   │   azure_auth_type=None,              │ │
│ │                           │   │   │   type="openai_chat",                │ │
│ │                           │   │   │   model='llama3.2:3b',               │ │
│ │                           │   │   │   encoding_model='cl100k_base',      │ │
│ │                           │   │   │   max_tokens=20000,                  │ │
│ │                           │   │   │   temperature=0.6,                   │ │
│ │                           │   │   │   top_p=0.9,                         │ │
│ │                           │   │   │   n=1,                               │ │
│ │                           │   │   │   frequency_penalty=0.0,             │ │
│ │                           │   │   │   presence_penalty=0.0,              │ │
│ │                           │   │   │   request_timeout=180.0,             │ │
│ │                           │   │   │                                      │ │
│ │                           api_base='http://localhost:11434/v1',          │ │
│ │                           │   │   │   api_version=None,                  │ │
│ │                           │   │   │   deployment_name=None,              │ │
│ │                           │   │   │   organization=None,                 │ │
│ │                           │   │   │   proxy=None,                        │ │
│ │                           │   │   │   audience=None,                     │ │
│ │                           │   │   │   model_supports_json=True,          │ │
│ │                           │   │   │   tokens_per_minute=50000,           │ │
│ │                           │   │   │   requests_per_minute=1000,          │ │
│ │                           │   │   │   max_retries=10,                    │ │
│ │                           │   │   │   max_retry_wait=10.0,               │ │
│ │                           │   │   │                                      │ │
│ │                           sleep_on_rate_limit_recommendation=True,       │ │
│ │                           │   │   │   concurrent_requests=25,            │ │
│ │                           │   │   │   responses=None,                    │ │
│ │                           │   │   │   parallelization_stagger=0.3,       │ │
│ │                           │   │   │   parallelization_num_threads=50,    │ │
│ │                           │   │   │   async_mode=<AsyncType.Threaded:    │ │
│ │                           'threaded'>                                    │ │
│ │                           │   │   ),                                     │ │
│ │                           │   │   'default_embedding_model':             │ │
│ │                           LanguageModelConfig(                           │ │
│ │                           │   │   │                                      │ │
│ │                           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJW… │ │
│ │                           │   │   │   azure_auth_type=None,              │ │
│ │                           │   │   │   type="openai_embedding",           │ │
│ │                           │   │   │   model='nomic-embed-text',          │ │
│ │                           │   │   │   encoding_model='cl100k_base',      │ │
│ │                           │   │   │   max_tokens=20000,                  │ │
│ │                           │   │   │   temperature=0.6,                   │ │
│ │                           │   │   │   top_p=0.9,                         │ │
│ │                           │   │   │   n=1,                               │ │
│ │                           │   │   │   frequency_penalty=0.0,             │ │
│ │                           │   │   │   presence_penalty=0.0,              │ │
│ │                           │   │   │   request_timeout=180.0,             │ │
│ │                           │   │   │                                      │ │
│ │                           api_base='http://localhost:11434/api',         │ │
│ │                           │   │   │   api_version=None,                  │ │
│ │                           │   │   │   deployment_name=None,              │ │
│ │                           │   │   │   organization=None,                 │ │
│ │                           │   │   │   proxy=None,                        │ │
│ │                           │   │   │   audience=None,                     │ │
│ │                           │   │   │   model_supports_json=None,          │ │
│ │                           │   │   │   tokens_per_minute=50000,           │ │
│ │                           │   │   │   requests_per_minute=1000,          │ │
│ │                           │   │   │   max_retries=10,                    │ │
│ │                           │   │   │   max_retry_wait=10.0,               │ │
│ │                           │   │   │                                      │ │
│ │                           sleep_on_rate_limit_recommendation=True,       │ │
│ │                           │   │   │   concurrent_requests=25,            │ │
│ │                           │   │   │   responses=None,                    │ │
│ │                           │   │   │   parallelization_stagger=0.3,       │ │
│ │                           │   │   │   parallelization_num_threads=50,    │ │
│ │                           │   │   │   async_mode=<AsyncType.Threaded:    │ │
│ │                           'threaded'>                                    │ │
│ │                           │   │   )                                      │ │
│ │                           │   },                                         │ │
│ │                           │   reporting=ReportingConfig(                 │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │                                          │ │
│ │                           base_dir='/scratch/gpfs/jx0800/data/graphrag/… │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   storage_account_blob_url=None          │ │
│ │                           │   ),                                         │ │
│ │                           │   output=OutputConfig(                       │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │                                          │ │
│ │                           base_dir='/scratch/gpfs/jx0800/data/graphrag/… │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   storage_account_blob_url=None,         │ │
│ │                           │   │   cosmosdb_account_url=None              │ │
│ │                           │   ),                                         │ │
│ │                           │   update_index_output=None,                  │ │
│ │                           │   cache=CacheConfig(                         │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │   base_dir='cache',                      │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   storage_account_blob_url=None,         │ │
│ │                           │   │   cosmosdb_account_url=None              │ │
│ │                           │   ),                                         │ │
│ │                           │   input=InputConfig(                         │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │   file_type="text",                      │ │
│ │                           │   │   base_dir='input',                      │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   storage_account_blob_url=None,         │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   encoding='utf-8',                      │ │
│ │                           │   │   file_pattern='.*\\.txt$',              │ │
│ │                           │   │   file_filter=None,                      │ │
│ │                           │   │   source_column=None,                    │ │
│ │                           │   │   timestamp_column=None,                 │ │
│ │                           │   │   timestamp_format=None,                 │ │
│ │                           │   │   text_column='text',                    │ │
│ │                           │   │   title_column=None,                     │ │
│ │                           │   │   document_attribute_columns=[]          │ │
│ │                           │   ),                                         │ │
│ │                           │   embed_graph=EmbedGraphConfig(              │ │
│ │                           │   │   enabled=False,                         │ │
│ │                           │   │   dimensions=1536,                       │ │
│ │                           │   │   num_walks=10,                          │ │
│ │                           │   │   walk_length=40,                        │ │
│ │                           │   │   window_size=2,                         │ │
│ │                           │   │   iterations=3,                          │ │
│ │                           │   │   random_seed=597832,                    │ │
│ │                           │   │   use_lcc=True                           │ │
│ │                           │   ),                                         │ │
│ │                           │   embeddings=TextEmbeddingConfig(            │ │
│ │                           │   │   batch_size=16,                         │ │
│ │                           │   │   batch_max_tokens=8191,                 │ │
│ │                           │   │   target="required",                     │ │
│ │                           │   │   names=[],                              │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   model_id='default_embedding_model'     │ │
│ │                           │   ),                                         │ │
│ │                           │   chunks=ChunkingConfig(                     │ │
│ │                           │   │   size=1200,                             │ │
│ │                           │   │   overlap=100,                           │ │
│ │                           │   │   group_by_columns=['id'],               │ │
│ │                           │   │   strategy="tokens",                     │ │
│ │                           │   │   encoding_model='cl100k_base'           │ │
│ │                           │   ),                                         │ │
│ │                           │   snapshots=SnapshotsConfig(                 │ │
│ │                           │   │   embeddings=False,                      │ │
│ │                           │   │   graphml=False,                         │ │
│ │                           │   │   transient=False                        │ │
│ │                           │   ),                                         │ │
│ │                           │   entity_extraction=EntityExtractionConfig(  │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/entity_extraction.txt',        │ │
│ │                           │   │   entity_types=[                         │ │
│ │                           │   │   │   'organization',                    │ │
│ │                           │   │   │   'person',                          │ │
│ │                           │   │   │   'geo',                             │ │
│ │                           │   │   │   'event'                            │ │
│ │                           │   │   ],                                     │ │
│ │                           │   │   max_gleanings=1,                       │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   encoding_model=None,                   │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │                                              │ │
│ │                           summarize_descriptions=SummarizeDescriptionsC… │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/summarize_descriptions.txt',   │ │
│ │                           │   │   max_length=500,                        │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │   community_reports=CommunityReportsConfig(  │ │
│ │                           │   │   prompt='prompts/community_report.txt', │ │
│ │                           │   │   max_length=2000,                       │ │
│ │                           │   │   max_input_length=8000,                 │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │   claim_extraction=ClaimExtractionConfig(    │ │
│ │                           │   │   enabled=False,                         │ │
│ │                           │   │   prompt='prompts/claim_extraction.txt', │ │
│ │                           │   │   description='Any claims or facts that  │ │
│ │                           could be relevant to information discovery.',  │ │
│ │                           │   │   max_gleanings=1,                       │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   encoding_model=None,                   │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │   cluster_graph=ClusterGraphConfig(          │ │
│ │                           │   │   max_cluster_size=10,                   │ │
│ │                           │   │   use_lcc=True,                          │ │
│ │                           │   │   seed=3735928559                        │ │
│ │                           │   ),                                         │ │
│ │                           │   umap=UmapConfig(enabled=False),            │ │
│ │                           │   local_search=LocalSearchConfig(            │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/local_search_system_prompt.tx… │ │
│ │                           │   │   text_unit_prop=0.5,                    │ │
│ │                           │   │   community_prop=0.15,                   │ │
│ │                           │   │   conversation_history_max_turns=5,      │ │
│ │                           │   │   top_k_entities=10,                     │ │
│ │                           │   │   top_k_relationships=10,                │ │
│ │                           │   │   temperature=0.6,                       │ │
│ │                           │   │   top_p=0.9,                             │ │
│ │                           │   │   n=1,                                   │ │
│ │                           │   │   max_tokens=20000,                      │ │
│ │                           │   │   llm_max_tokens=20000                   │ │
│ │                           │   ),                                         │ │
│ │                           │   global_search=GlobalSearchConfig(          │ │
│ │                           │   │                                          │ │
│ │                           map_prompt='prompts/global_search_map_system_… │ │
│ │                           │   │                                          │ │
│ │                           reduce_prompt='prompts/global_search_reduce_s… │ │
│ │                           │   │                                          │ │
│ │                           knowledge_prompt='prompts/global_search_knowl… │ │
│ │                           │   │   temperature=0,                         │ │
│ │                           │   │   top_p=1,                               │ │
│ │                           │   │   n=1,                                   │ │
│ │                           │   │   max_tokens=12000,                      │ │
│ │                           │   │   data_max_tokens=12000,                 │ │
│ │                           │   │   map_max_tokens=1000,                   │ │
│ │                           │   │   reduce_max_tokens=2000,                │ │
│ │                           │   │   concurrency=32,                        │ │
│ │                           │   │   dynamic_search_llm='gpt-4o-mini',      │ │
│ │                           │   │   dynamic_search_threshold=1,            │ │
│ │                           │   │   dynamic_search_keep_parent=False,      │ │
│ │                           │   │   dynamic_search_num_repeats=1,          │ │
│ │                           │   │   dynamic_search_use_summary=False,      │ │
│ │                           │   │                                          │ │
│ │                           dynamic_search_concurrent_coroutines=16,       │ │
│ │                           │   │   dynamic_search_max_level=2             │ │
│ │                           │   ),                                         │ │
│ │                           │   drift_search=DRIFTSearchConfig(            │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/drift_search_system_prompt.tx… │ │
│ │                           │   │                                          │ │
│ │                           reduce_prompt='prompts/drift_search_reduce_pr… │ │
│ │                           │   │   temperature=0,                         │ │
│ │                           │   │   top_p=1,                               │ │
│ │                           │   │   n=3,                                   │ │
│ │                           │   │   max_tokens=12000,                      │ │
│ │                           │   │   data_max_tokens=12000,                 │ │
│ │                           │   │   reduce_max_tokens=2000,                │ │
│ │                           │   │   reduce_temperature=0,                  │ │
│ │                           │   │   concurrency=32,                        │ │
│ │                           │   │   drift_k_followups=20,                  │ │
│ │                           │   │   primer_folds=5,                        │ │
│ │                           │   │   primer_llm_max_tokens=12000,           │ │
│ │                           │   │   n_depth=3,                             │ │
│ │                           │   │   local_search_text_unit_prop=0.9,       │ │
│ │                           │   │   local_search_community_prop=0.1,       │ │
│ │                           │   │   local_search_top_k_mapped_entities=10, │ │
│ │                           │   │   local_search_top_k_relationships=10,   │ │
│ │                           │   │   local_search_max_data_tokens=12000,    │ │
│ │                           │   │   local_search_temperature=0,            │ │
│ │                           │   │   local_search_top_p=1,                  │ │
│ │                           │   │   local_search_n=1,                      │ │
│ │                           │   │   local_search_llm_max_gen_tokens=2000   │ │
│ │                           │   ),                                         │ │
│ │                           │   basic_search=BasicSearchConfig(            │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/basic_search_system_prompt.tx… │ │
│ │                           │   │   text_unit_prop=0.5,                    │ │
│ │                           │   │   conversation_history_max_turns=5,      │ │
│ │                           │   │   temperature=0,                         │ │
│ │                           │   │   top_p=1,                               │ │
│ │                           │   │   n=1,                                   │ │
│ │                           │   │   max_tokens=12000,                      │ │
│ │                           │   │   llm_max_tokens=2000                    │ │
│ │                           │   ),                                         │ │
│ │                           │   vector_store={                             │ │
│ │                           │   │   'output': VectorStoreConfig(           │ │
│ │                           │   │   │   type='lancedb',                    │ │
│ │                           │   │   │                                      │ │
│ │                           db_uri='/scratch/gpfs/jx0800/data/graphrag/ou… │ │
│ │                           │   │   │   url=None,                          │ │
│ │                           │   │   │   api_key=None,                      │ │
│ │                           │   │   │   audience=None,                     │ │
│ │                           │   │   │   container_name='default',          │ │
│ │                           │   │   │   database_name=None,                │ │
│ │                           │   │   │   overwrite=True                     │ │
│ │                           │   │   )                                      │ │
│ │                           │   }                                          │ │
│ │                           )                                              │ │
│ │         config_filepath = None                                           │ │
│ │                data_dir = None                                           │ │
│ │          dataframe_dict = {                                              │ │
│ │                           │   'create_final_nodes':                      │ │
│ │                           id  human_readable_id  ...  x  y               │ │
│ │                           0    361d38e8-a81c-43bf-a292-0cf59164fcfe      │ │
│ │                           0  ...  0  0                                   │ │
│ │                           1    361d38e8-a81c-43bf-a292-0cf59164fcfe      │ │
│ │                           0  ...  0  0                                   │ │
│ │                           2    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d      │ │
│ │                           1  ...  0  0                                   │ │
│ │                           3    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d      │ │
│ │                           1  ...  0  0                                   │ │
│ │                           4    33dce321-f4d6-451b-93a0-facff7bd4cfc      │ │
│ │                           2  ...  0  0                                   │ │
│ │                           ..                                    ...      │ │
│ │                           ...  ... .. ..                                 │ │
│ │                           113  8578ccd8-76f7-4dd5-aefc-e9502499d5ee      │ │
│ │                           73  ...  0  0                                  │ │
│ │                           114  73903f34-7e8a-41c4-853e-b43359f25b82      │ │
│ │                           74  ...  0  0                                  │ │
│ │                           115  ba65496d-ddb1-4d08-a203-4691b4c7cc65      │ │
│ │                           75  ...  0  0                                  │ │
│ │                           116  b20370ae-854f-4781-b6e9-564adb5e75bb      │ │
│ │                           76  ...  0  0                                  │ │
│ │                           117  f3b34144-c8b6-4780-aee2-2ff729c2f05c      │ │
│ │                           77  ...  0  0                                  │ │
│ │                                                                          │ │
│ │                           [118 rows x 8 columns],                        │ │
│ │                           │   'create_final_community_reports':          │ │
│ │                           id  human_readable_id  ...      period  size   │ │
│ │                           0  edf604d62cc7486cb9dc1f3b62a1b613            │ │
│ │                           5  ...  2025-01-28    19                       │ │
│ │                           1  f428381efac24e028b01b86d6dbf1a63            │ │
│ │                           6  ...  2025-01-28     2                       │ │
│ │                           2  f6b7e995c6514905a1743e28004cd6c4            │ │
│ │                           7  ...  2025-01-28    17                       │ │
│ │                           3  255e5acc15d84fa7b72aa2a62f3d1106            │ │
│ │                           8  ...  2025-01-28     2                       │ │
│ │                           4  0a68b27dcf2c48568c408cd4fdb36ff2            │ │
│ │                           0  ...  2025-01-28    13                       │ │
│ │                           5  87ab2281a26f4425a4fa5ef7d6ff90e7            │ │
│ │                           1  ...  2025-01-28    16                       │ │
│ │                           6  c9e6911cbdf8411eb4f18bdb27e1042d            │ │
│ │                           2  ...  2025-01-28    21                       │ │
│ │                           7  cb9e029c75524fa294516f922767dfc4            │ │
│ │                           3  ...  2025-01-28    19                       │ │
│ │                           8  e535ae20b1324dba8a7917d85ebb1ca6            │ │
│ │                           4  ...  2025-01-28     3                       │ │
│ │                                                                          │ │
│ │                           [9 rows x 14 columns],                         │ │
│ │                           │   'create_final_text_units':                 │ │
│ │                           id  ...                                        │ │
│ │                           relationship_ids                               │ │
│ │                           0                                              │ │
│ │                           e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30… │ │
│ │                           ...  [30bda342-2449-47b2-ad1d-01db21aeafe3,    │ │
│ │                           b1d6d5a...                                     │ │
│ │                           1                                              │ │
│ │                           826236e9b53b61f612c6be568d84689b52b02eaab6761… │ │
│ │                           ...  [4afb894f-4bbb-40f1-8611-670ef3325b4f,    │ │
│ │                           2551005...                                     │ │
│ │                           2                                              │ │
│ │                           bcfc6a23d78c876f7cc226f911e6ce8375526d89093e8… │ │
│ │                           ...  [7c8977e4-ad87-4db9-b790-edfd3bd9dd3a,    │ │
│ │                           224194a...                                     │ │
│ │                           3                                              │ │
│ │                           332527ce3f7779776fcfae343ec912a32806bb50e27d7… │ │
│ │                           ...  [aa46818b-6b8a-43ec-8e63-2a29b0a1fbc0,    │ │
│ │                           3c85ae8...                                     │ │
│ │                                                                          │ │
│ │                           [4 rows x 7 columns],                          │ │
│ │                           │   'create_final_relationships':              │ │
│ │                           id  ...                                        │ │
│ │                           text_unit_ids                                  │ │
│ │                           0   30bda342-2449-47b2-ad1d-01db21aeafe3  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           1   b1d6d5ae-3b60-4297-9642-a721f9c2fb8c  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           2   f3089407-a992-4bf2-bf54-a9ce82eddd82  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           3   b1ada996-01bd-41fa-9c5e-9023b0e4651e  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           4   596f1d62-9cdd-4aa2-8d11-0cbe2cae39e3  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           ..                                   ...  ...  │ │
│ │                           ...                                            │ │
│ │                           81  165ef284-3ac5-4b2c-82eb-5edddb988f48  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           82  ddc4b38f-59cc-4982-85e3-88d9fbaa06a5  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           83  c08d0886-947f-4923-91cc-92c29dfd4208  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           84  2b3f689d-a803-4a03-a775-71d6eb93c5c7  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           85  33d7767e-e7be-42ac-8d4d-4b750cb07e9d  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                                                                          │ │
│ │                           [86 rows x 8 columns],                         │ │
│ │                           │   'create_final_entities':                   │ │
│ │                           id  ...                                        │ │
│ │                           text_unit_ids                                  │ │
│ │                           0   361d38e8-a81c-43bf-a292-0cf59164fcfe  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           1   5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           2   33dce321-f4d6-451b-93a0-facff7bd4cfc  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           3   90a196a9-af02-4818-8d48-31dd069776e9  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           4   69d3cde4-21d5-4aa7-b499-52ceffabb3fd  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           ..                                   ...  ...  │ │
│ │                           ...                                            │ │
│ │                           73  8578ccd8-76f7-4dd5-aefc-e9502499d5ee  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           74  73903f34-7e8a-41c4-853e-b43359f25b82  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           75  ba65496d-ddb1-4d08-a203-4691b4c7cc65  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           76  b20370ae-854f-4781-b6e9-564adb5e75bb  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           77  f3b34144-c8b6-4780-aee2-2ff729c2f05c  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                                                                          │ │
│ │                           [78 rows x 6 columns],                         │ │
│ │                           │   'create_final_covariates': None            │ │
│ │                           }                                              │ │
│ │ final_community_reports = │   │   │   │   │   │   │   │    id            │ │
│ │                           human_readable_id  ...      period  size       │ │
│ │                           0  edf604d62cc7486cb9dc1f3b62a1b613            │ │
│ │                           5  ...  2025-01-28    19                       │ │
│ │                           1  f428381efac24e028b01b86d6dbf1a63            │ │
│ │                           6  ...  2025-01-28     2                       │ │
│ │                           2  f6b7e995c6514905a1743e28004cd6c4            │ │
│ │                           7  ...  2025-01-28    17                       │ │
│ │                           3  255e5acc15d84fa7b72aa2a62f3d1106            │ │
│ │                           8  ...  2025-01-28     2                       │ │
│ │                           4  0a68b27dcf2c48568c408cd4fdb36ff2            │ │
│ │                           0  ...  2025-01-28    13                       │ │
│ │                           5  87ab2281a26f4425a4fa5ef7d6ff90e7            │ │
│ │                           1  ...  2025-01-28    16                       │ │
│ │                           6  c9e6911cbdf8411eb4f18bdb27e1042d            │ │
│ │                           2  ...  2025-01-28    21                       │ │
│ │                           7  cb9e029c75524fa294516f922767dfc4            │ │
│ │                           3  ...  2025-01-28    19                       │ │
│ │                           8  e535ae20b1324dba8a7917d85ebb1ca6            │ │
│ │                           4  ...  2025-01-28     3                       │ │
│ │                                                                          │ │
│ │                           [9 rows x 14 columns]                          │ │
│ │        final_covariates = None                                           │ │
│ │          final_entities = │   │   │   │   │   │   │   │   │     id  ...  │ │
│ │                           text_unit_ids                                  │ │
│ │                           0   361d38e8-a81c-43bf-a292-0cf59164fcfe  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           1   5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           2   33dce321-f4d6-451b-93a0-facff7bd4cfc  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           3   90a196a9-af02-4818-8d48-31dd069776e9  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           4   69d3cde4-21d5-4aa7-b499-52ceffabb3fd  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           ..                                   ...  ...  │ │
│ │                           ...                                            │ │
│ │                           73  8578ccd8-76f7-4dd5-aefc-e9502499d5ee  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           74  73903f34-7e8a-41c4-853e-b43359f25b82  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           75  ba65496d-ddb1-4d08-a203-4691b4c7cc65  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           76  b20370ae-854f-4781-b6e9-564adb5e75bb  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           77  f3b34144-c8b6-4780-aee2-2ff729c2f05c  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                                                                          │ │
│ │                           [78 rows x 6 columns]                          │ │
│ │             final_nodes = │   │   │   │   │   │   │   │   │      id      │ │
│ │                           human_readable_id  ...  x  y                   │ │
│ │                           0    361d38e8-a81c-43bf-a292-0cf59164fcfe      │ │
│ │                           0  ...  0  0                                   │ │
│ │                           1    361d38e8-a81c-43bf-a292-0cf59164fcfe      │ │
│ │                           0  ...  0  0                                   │ │
│ │                           2    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d      │ │
│ │                           1  ...  0  0                                   │ │
│ │                           3    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d      │ │
│ │                           1  ...  0  0                                   │ │
│ │                           4    33dce321-f4d6-451b-93a0-facff7bd4cfc      │ │
│ │                           2  ...  0  0                                   │ │
│ │                           ..                                    ...      │ │
│ │                           ...  ... .. ..                                 │ │
│ │                           113  8578ccd8-76f7-4dd5-aefc-e9502499d5ee      │ │
│ │                           73  ...  0  0                                  │ │
│ │                           114  73903f34-7e8a-41c4-853e-b43359f25b82      │ │
│ │                           74  ...  0  0                                  │ │
│ │                           115  ba65496d-ddb1-4d08-a203-4691b4c7cc65      │ │
│ │                           75  ...  0  0                                  │ │
│ │                           116  b20370ae-854f-4781-b6e9-564adb5e75bb      │ │
│ │                           76  ...  0  0                                  │ │
│ │                           117  f3b34144-c8b6-4780-aee2-2ff729c2f05c      │ │
│ │                           77  ...  0  0                                  │ │
│ │                                                                          │ │
│ │                           [118 rows x 8 columns]                         │ │
│ │     final_relationships = │   │   │   │   │   │   │   │   │     id  ...  │ │
│ │                           text_unit_ids                                  │ │
│ │                           0   30bda342-2449-47b2-ad1d-01db21aeafe3  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           1   b1d6d5ae-3b60-4297-9642-a721f9c2fb8c  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           2   f3089407-a992-4bf2-bf54-a9ce82eddd82  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           3   b1ada996-01bd-41fa-9c5e-9023b0e4651e  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           4   596f1d62-9cdd-4aa2-8d11-0cbe2cae39e3  ...  │ │
│ │                           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a3… │ │
│ │                           ..                                   ...  ...  │ │
│ │                           ...                                            │ │
│ │                           81  165ef284-3ac5-4b2c-82eb-5edddb988f48  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           82  ddc4b38f-59cc-4982-85e3-88d9fbaa06a5  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           83  c08d0886-947f-4923-91cc-92c29dfd4208  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           84  2b3f689d-a803-4a03-a775-71d6eb93c5c7  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                           85  33d7767e-e7be-42ac-8d4d-4b750cb07e9d  ...  │ │
│ │                           [332527ce3f7779776fcfae343ec912a32806bb50e27d… │ │
│ │                                                                          │ │
│ │                           [86 rows x 8 columns]                          │ │
│ │        final_text_units = │   │   │   │   │   │   │   │   │   │   │   │  │ │
│ │                           id  ...                                        │ │
│ │                           relationship_ids                               │ │
│ │                           0                                              │ │
│ │                           e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30… │ │
│ │                           ...  [30bda342-2449-47b2-ad1d-01db21aeafe3,    │ │
│ │                           b1d6d5a...                                     │ │
│ │                           1                                              │ │
│ │                           826236e9b53b61f612c6be568d84689b52b02eaab6761… │ │
│ │                           ...  [4afb894f-4bbb-40f1-8611-670ef3325b4f,    │ │
│ │                           2551005...                                     │ │
│ │                           2                                              │ │
│ │                           bcfc6a23d78c876f7cc226f911e6ce8375526d89093e8… │ │
│ │                           ...  [7c8977e4-ad87-4db9-b790-edfd3bd9dd3a,    │ │
│ │                           224194a...                                     │ │
│ │                           3                                              │ │
│ │                           332527ce3f7779776fcfae343ec912a32806bb50e27d7… │ │
│ │                           ...  [aa46818b-6b8a-43ec-8e63-2a29b0a1fbc0,    │ │
│ │                           3c85ae8...                                     │ │
│ │                                                                          │ │
│ │                           [4 rows x 7 columns]                           │ │
│ │                   query = "What's the difference between CNN and GNN?    │ │
│ │                           Concluse the pros and cons."                   │ │
│ │           response_type = 'Multiple Paragraphs'                          │ │
│ │                    root = PosixPath('/scratch/gpfs/jx0800/data/graphrag… │ │
│ │                root_dir = PosixPath('/scratch/gpfs/jx0800/data/graphrag… │ │
│ │               streaming = False                                          │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/asyncio/runners.py:190 in   │
│ run                                                                          │
│                                                                              │
│   187 │   │   │   "asyncio.run() cannot be called from a running event loop" │
│   188 │                                                                      │
│   189 │   with Runner(debug=debug) as runner:                                │
│ ❱ 190 │   │   return runner.run(main)                                        │
│   191                                                                        │
│   192                                                                        │
│   193 def _cancel_all_tasks(loop):                                           │
│                                                                              │
│ ╭────────────────────────── locals ──────────────────────────╮               │
│ │  debug = None                                              │               │
│ │   main = <coroutine object local_search at 0x1529da8ec8b0> │               │
│ │ runner = <asyncio.runners.Runner object at 0x1529dad42510> │               │
│ ╰────────────────────────────────────────────────────────────╯               │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/asyncio/runners.py:118 in   │
│ run                                                                          │
│                                                                              │
│   115 │   │                                                                  │
│   116 │   │   self._interrupt_count = 0                                      │
│   117 │   │   try:                                                           │
│ ❱ 118 │   │   │   return self._loop.run_until_complete(task)                 │
│   119 │   │   except exceptions.CancelledError:                              │
│   120 │   │   │   if self._interrupt_count > 0:                              │
│   121 │   │   │   │   uncancel = getattr(task, "uncancel", None)             │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │        context = <_contextvars.Context object at 0x1529da8f7a40>         │ │
│ │           coro = <coroutine object local_search at 0x1529da8ec8b0>       │ │
│ │           self = <asyncio.runners.Runner object at 0x1529dad42510>       │ │
│ │ sigint_handler = functools.partial(<bound method Runner._on_sigint of    │ │
│ │                  <asyncio.runners.Runner object at 0x1529dad42510>>,     │ │
│ │                  main_task=<Task finished name='Task-19'                 │ │
│ │                  coro=<local_search() done, defined at                   │ │
│ │                  /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-… │ │
│ │                  exception=ConnectionError(MaxRetryError('HTTPSConnecti… │ │
│ │                  port=443): Max retries exceeded with url:               │ │
│ │                  /encodings/cl100k_base.tiktoken (Caused by              │ │
│ │                  NameResolutionError("<urllib3.connection.HTTPSConnecti… │ │
│ │                  object at 0x1529d81521d0>: Failed to resolve            │ │
│ │                  \'openaipublic.blob.core.windows.net\' ([Errno -2] Name │ │
│ │                  or service not known)"))'))>)                           │ │
│ │           task = <Task finished name='Task-19' coro=<local_search()      │ │
│ │                  done, defined at                                        │ │
│ │                  /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-… │ │
│ │                  exception=ConnectionError(MaxRetryError('HTTPSConnecti… │ │
│ │                  port=443): Max retries exceeded with url:               │ │
│ │                  /encodings/cl100k_base.tiktoken (Caused by              │ │
│ │                  NameResolutionError("<urllib3.connection.HTTPSConnecti… │ │
│ │                  object at 0x1529d81521d0>: Failed to resolve            │ │
│ │                  \'openaipublic.blob.core.windows.net\' ([Errno -2] Name │ │
│ │                  or service not known)"))'))>                            │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/asyncio/base_events.py:650  │
│ in run_until_complete                                                        │
│                                                                              │
│    647 │   │   if not future.done():                                         │
│    648 │   │   │   raise RuntimeError('Event loop stopped before Future comp │
│    649 │   │                                                                 │
│ ❱  650 │   │   return future.result()                                        │
│    651 │                                                                     │
│    652 │   def stop(self):                                                   │
│    653 │   │   """Stop running the event loop.                               │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │   future = <Task finished name='Task-19' coro=<local_search() done,      │ │
│ │            defined at                                                    │ │
│ │            /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packag… │ │
│ │            exception=ConnectionError(MaxRetryError('HTTPSConnectionPool… │ │
│ │            port=443): Max retries exceeded with url:                     │ │
│ │            /encodings/cl100k_base.tiktoken (Caused by                    │ │
│ │            NameResolutionError("<urllib3.connection.HTTPSConnection      │ │
│ │            object at 0x1529d81521d0>: Failed to resolve                  │ │
│ │            \'openaipublic.blob.core.windows.net\' ([Errno -2] Name or    │ │
│ │            service not known)"))'))>                                     │ │
│ │ new_task = False                                                         │ │
│ │     self = <_UnixSelectorEventLoop running=False closed=True             │ │
│ │            debug=False>                                                  │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/pydantic/_int │
│ ernal/_validate_call.py:33 in wrapper_function                               │
│                                                                              │
│    30 │   │                                                                  │
│    31 │   │   @functools.wraps(wrapped)                                      │
│    32 │   │   async def wrapper_function(*args, **kwargs):  # type: ignore   │
│ ❱  33 │   │   │   return await wrapper(*args, **kwargs)                      │
│    34 │   else:                                                              │
│    35 │   │                                                                  │
│    36 │   │   @functools.wraps(wrapped)                                      │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │    args = ()                                                             │ │
│ │  kwargs = {                                                              │ │
│ │           │   'config': GraphRagConfig(                                  │ │
│ │           │   │   root_dir='/scratch/gpfs/jx0800/data/graphrag',         │ │
│ │           │   │   models={                                               │ │
│ │           │   │   │   'default_chat_model': LanguageModelConfig(         │ │
│ │           │   │   │   │                                                  │ │
│ │           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJWd1h0dnprLVRvdzlL… │ │
│ │           │   │   │   │   azure_auth_type=None,                          │ │
│ │           │   │   │   │   type="openai_chat",                            │ │
│ │           │   │   │   │   model='llama3.2:3b',                           │ │
│ │           │   │   │   │   encoding_model='cl100k_base',                  │ │
│ │           │   │   │   │   max_tokens=20000,                              │ │
│ │           │   │   │   │   temperature=0.6,                               │ │
│ │           │   │   │   │   top_p=0.9,                                     │ │
│ │           │   │   │   │   n=1,                                           │ │
│ │           │   │   │   │   frequency_penalty=0.0,                         │ │
│ │           │   │   │   │   presence_penalty=0.0,                          │ │
│ │           │   │   │   │   request_timeout=180.0,                         │ │
│ │           │   │   │   │   api_base='http://localhost:11434/v1',          │ │
│ │           │   │   │   │   api_version=None,                              │ │
│ │           │   │   │   │   deployment_name=None,                          │ │
│ │           │   │   │   │   organization=None,                             │ │
│ │           │   │   │   │   proxy=None,                                    │ │
│ │           │   │   │   │   audience=None,                                 │ │
│ │           │   │   │   │   model_supports_json=True,                      │ │
│ │           │   │   │   │   tokens_per_minute=50000,                       │ │
│ │           │   │   │   │   requests_per_minute=1000,                      │ │
│ │           │   │   │   │   max_retries=10,                                │ │
│ │           │   │   │   │   max_retry_wait=10.0,                           │ │
│ │           │   │   │   │   sleep_on_rate_limit_recommendation=True,       │ │
│ │           │   │   │   │   concurrent_requests=25,                        │ │
│ │           │   │   │   │   responses=None,                                │ │
│ │           │   │   │   │   parallelization_stagger=0.3,                   │ │
│ │           │   │   │   │   parallelization_num_threads=50,                │ │
│ │           │   │   │   │   async_mode=<AsyncType.Threaded: 'threaded'>    │ │
│ │           │   │   │   ),                                                 │ │
│ │           │   │   │   'default_embedding_model': LanguageModelConfig(    │ │
│ │           │   │   │   │                                                  │ │
│ │           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJWd1h0dnprLVRvdzlL… │ │
│ │           │   │   │   │   azure_auth_type=None,                          │ │
│ │           │   │   │   │   type="openai_embedding",                       │ │
│ │           │   │   │   │   model='nomic-embed-text',                      │ │
│ │           │   │   │   │   encoding_model='cl100k_base',                  │ │
│ │           │   │   │   │   max_tokens=20000,                              │ │
│ │           │   │   │   │   temperature=0.6,                               │ │
│ │           │   │   │   │   top_p=0.9,                                     │ │
│ │           │   │   │   │   n=1,                                           │ │
│ │           │   │   │   │   frequency_penalty=0.0,                         │ │
│ │           │   │   │   │   presence_penalty=0.0,                          │ │
│ │           │   │   │   │   request_timeout=180.0,                         │ │
│ │           │   │   │   │   api_base='http://localhost:11434/api',         │ │
│ │           │   │   │   │   api_version=None,                              │ │
│ │           │   │   │   │   deployment_name=None,                          │ │
│ │           │   │   │   │   organization=None,                             │ │
│ │           │   │   │   │   proxy=None,                                    │ │
│ │           │   │   │   │   audience=None,                                 │ │
│ │           │   │   │   │   model_supports_json=None,                      │ │
│ │           │   │   │   │   tokens_per_minute=50000,                       │ │
│ │           │   │   │   │   requests_per_minute=1000,                      │ │
│ │           │   │   │   │   max_retries=10,                                │ │
│ │           │   │   │   │   max_retry_wait=10.0,                           │ │
│ │           │   │   │   │   sleep_on_rate_limit_recommendation=True,       │ │
│ │           │   │   │   │   concurrent_requests=25,                        │ │
│ │           │   │   │   │   responses=None,                                │ │
│ │           │   │   │   │   parallelization_stagger=0.3,                   │ │
│ │           │   │   │   │   parallelization_num_threads=50,                │ │
│ │           │   │   │   │   async_mode=<AsyncType.Threaded: 'threaded'>    │ │
│ │           │   │   │   )                                                  │ │
│ │           │   │   },                                                     │ │
│ │           │   │   reporting=ReportingConfig(                             │ │
│ │           │   │   │   type="file",                                       │ │
│ │           │   │   │                                                      │ │
│ │           base_dir='/scratch/gpfs/jx0800/data/graphrag/logs',            │ │
│ │           │   │   │   connection_string=None,                            │ │
│ │           │   │   │   container_name=None,                               │ │
│ │           │   │   │   storage_account_blob_url=None                      │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   output=OutputConfig(                                   │ │
│ │           │   │   │   type="file",                                       │ │
│ │           │   │   │                                                      │ │
│ │           base_dir='/scratch/gpfs/jx0800/data/graphrag/output',          │ │
│ │           │   │   │   connection_string=None,                            │ │
│ │           │   │   │   container_name=None,                               │ │
│ │           │   │   │   storage_account_blob_url=None,                     │ │
│ │           │   │   │   cosmosdb_account_url=None                          │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   update_index_output=None,                              │ │
│ │           │   │   cache=CacheConfig(                                     │ │
│ │           │   │   │   type="file",                                       │ │
│ │           │   │   │   base_dir='cache',                                  │ │
│ │           │   │   │   connection_string=None,                            │ │
│ │           │   │   │   container_name=None,                               │ │
│ │           │   │   │   storage_account_blob_url=None,                     │ │
│ │           │   │   │   cosmosdb_account_url=None                          │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   input=InputConfig(                                     │ │
│ │           │   │   │   type="file",                                       │ │
│ │           │   │   │   file_type="text",                                  │ │
│ │           │   │   │   base_dir='input',                                  │ │
│ │           │   │   │   connection_string=None,                            │ │
│ │           │   │   │   storage_account_blob_url=None,                     │ │
│ │           │   │   │   container_name=None,                               │ │
│ │           │   │   │   encoding='utf-8',                                  │ │
│ │           │   │   │   file_pattern='.*\\.txt$',                          │ │
│ │           │   │   │   file_filter=None,                                  │ │
│ │           │   │   │   source_column=None,                                │ │
│ │           │   │   │   timestamp_column=None,                             │ │
│ │           │   │   │   timestamp_format=None,                             │ │
│ │           │   │   │   text_column='text',                                │ │
│ │           │   │   │   title_column=None,                                 │ │
│ │           │   │   │   document_attribute_columns=[]                      │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   embed_graph=EmbedGraphConfig(                          │ │
│ │           │   │   │   enabled=False,                                     │ │
│ │           │   │   │   dimensions=1536,                                   │ │
│ │           │   │   │   num_walks=10,                                      │ │
│ │           │   │   │   walk_length=40,                                    │ │
│ │           │   │   │   window_size=2,                                     │ │
│ │           │   │   │   iterations=3,                                      │ │
│ │           │   │   │   random_seed=597832,                                │ │
│ │           │   │   │   use_lcc=True                                       │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   embeddings=TextEmbeddingConfig(                        │ │
│ │           │   │   │   batch_size=16,                                     │ │
│ │           │   │   │   batch_max_tokens=8191,                             │ │
│ │           │   │   │   target="required",                                 │ │
│ │           │   │   │   names=[],                                          │ │
│ │           │   │   │   strategy=None,                                     │ │
│ │           │   │   │   model_id='default_embedding_model'                 │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   chunks=ChunkingConfig(                                 │ │
│ │           │   │   │   size=1200,                                         │ │
│ │           │   │   │   overlap=100,                                       │ │
│ │           │   │   │   group_by_columns=['id'],                           │ │
│ │           │   │   │   strategy="tokens",                                 │ │
│ │           │   │   │   encoding_model='cl100k_base'                       │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   snapshots=SnapshotsConfig(                             │ │
│ │           │   │   │   embeddings=False,                                  │ │
│ │           │   │   │   graphml=False,                                     │ │
│ │           │   │   │   transient=False                                    │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   entity_extraction=EntityExtractionConfig(              │ │
│ │           │   │   │   prompt='prompts/entity_extraction.txt',            │ │
│ │           │   │   │   entity_types=[                                     │ │
│ │           │   │   │   │   'organization',                                │ │
│ │           │   │   │   │   'person',                                      │ │
│ │           │   │   │   │   'geo',                                         │ │
│ │           │   │   │   │   'event'                                        │ │
│ │           │   │   │   ],                                                 │ │
│ │           │   │   │   max_gleanings=1,                                   │ │
│ │           │   │   │   strategy=None,                                     │ │
│ │           │   │   │   encoding_model=None,                               │ │
│ │           │   │   │   model_id='default_chat_model'                      │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   summarize_descriptions=SummarizeDescriptionsConfig(    │ │
│ │           │   │   │   prompt='prompts/summarize_descriptions.txt',       │ │
│ │           │   │   │   max_length=500,                                    │ │
│ │           │   │   │   strategy=None,                                     │ │
│ │           │   │   │   model_id='default_chat_model'                      │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   community_reports=CommunityReportsConfig(              │ │
│ │           │   │   │   prompt='prompts/community_report.txt',             │ │
│ │           │   │   │   max_length=2000,                                   │ │
│ │           │   │   │   max_input_length=8000,                             │ │
│ │           │   │   │   strategy=None,                                     │ │
│ │           │   │   │   model_id='default_chat_model'                      │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   claim_extraction=ClaimExtractionConfig(                │ │
│ │           │   │   │   enabled=False,                                     │ │
│ │           │   │   │   prompt='prompts/claim_extraction.txt',             │ │
│ │           │   │   │   description='Any claims or facts that could be     │ │
│ │           relevant to information discovery.',                           │ │
│ │           │   │   │   max_gleanings=1,                                   │ │
│ │           │   │   │   strategy=None,                                     │ │
│ │           │   │   │   encoding_model=None,                               │ │
│ │           │   │   │   model_id='default_chat_model'                      │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   cluster_graph=ClusterGraphConfig(                      │ │
│ │           │   │   │   max_cluster_size=10,                               │ │
│ │           │   │   │   use_lcc=True,                                      │ │
│ │           │   │   │   seed=3735928559                                    │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   umap=UmapConfig(enabled=False),                        │ │
│ │           │   │   local_search=LocalSearchConfig(                        │ │
│ │           │   │   │   prompt='prompts/local_search_system_prompt.txt',   │ │
│ │           │   │   │   text_unit_prop=0.5,                                │ │
│ │           │   │   │   community_prop=0.15,                               │ │
│ │           │   │   │   conversation_history_max_turns=5,                  │ │
│ │           │   │   │   top_k_entities=10,                                 │ │
│ │           │   │   │   top_k_relationships=10,                            │ │
│ │           │   │   │   temperature=0.6,                                   │ │
│ │           │   │   │   top_p=0.9,                                         │ │
│ │           │   │   │   n=1,                                               │ │
│ │           │   │   │   max_tokens=20000,                                  │ │
│ │           │   │   │   llm_max_tokens=20000                               │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   global_search=GlobalSearchConfig(                      │ │
│ │           │   │   │                                                      │ │
│ │           map_prompt='prompts/global_search_map_system_prompt.txt',      │ │
│ │           │   │   │                                                      │ │
│ │           reduce_prompt='prompts/global_search_reduce_system_prompt.txt… │ │
│ │           │   │   │                                                      │ │
│ │           knowledge_prompt='prompts/global_search_knowledge_system_prom… │ │
│ │           │   │   │   temperature=0,                                     │ │
│ │           │   │   │   top_p=1,                                           │ │
│ │           │   │   │   n=1,                                               │ │
│ │           │   │   │   max_tokens=12000,                                  │ │
│ │           │   │   │   data_max_tokens=12000,                             │ │
│ │           │   │   │   map_max_tokens=1000,                               │ │
│ │           │   │   │   reduce_max_tokens=2000,                            │ │
│ │           │   │   │   concurrency=32,                                    │ │
│ │           │   │   │   dynamic_search_llm='gpt-4o-mini',                  │ │
│ │           │   │   │   dynamic_search_threshold=1,                        │ │
│ │           │   │   │   dynamic_search_keep_parent=False,                  │ │
│ │           │   │   │   dynamic_search_num_repeats=1,                      │ │
│ │           │   │   │   dynamic_search_use_summary=False,                  │ │
│ │           │   │   │   dynamic_search_concurrent_coroutines=16,           │ │
│ │           │   │   │   dynamic_search_max_level=2                         │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   drift_search=DRIFTSearchConfig(                        │ │
│ │           │   │   │   prompt='prompts/drift_search_system_prompt.txt',   │ │
│ │           │   │   │                                                      │ │
│ │           reduce_prompt='prompts/drift_search_reduce_prompt.txt',        │ │
│ │           │   │   │   temperature=0,                                     │ │
│ │           │   │   │   top_p=1,                                           │ │
│ │           │   │   │   n=3,                                               │ │
│ │           │   │   │   max_tokens=12000,                                  │ │
│ │           │   │   │   data_max_tokens=12000,                             │ │
│ │           │   │   │   reduce_max_tokens=2000,                            │ │
│ │           │   │   │   reduce_temperature=0,                              │ │
│ │           │   │   │   concurrency=32,                                    │ │
│ │           │   │   │   drift_k_followups=20,                              │ │
│ │           │   │   │   primer_folds=5,                                    │ │
│ │           │   │   │   primer_llm_max_tokens=12000,                       │ │
│ │           │   │   │   n_depth=3,                                         │ │
│ │           │   │   │   local_search_text_unit_prop=0.9,                   │ │
│ │           │   │   │   local_search_community_prop=0.1,                   │ │
│ │           │   │   │   local_search_top_k_mapped_entities=10,             │ │
│ │           │   │   │   local_search_top_k_relationships=10,               │ │
│ │           │   │   │   local_search_max_data_tokens=12000,                │ │
│ │           │   │   │   local_search_temperature=0,                        │ │
│ │           │   │   │   local_search_top_p=1,                              │ │
│ │           │   │   │   local_search_n=1,                                  │ │
│ │           │   │   │   local_search_llm_max_gen_tokens=2000               │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   basic_search=BasicSearchConfig(                        │ │
│ │           │   │   │   prompt='prompts/basic_search_system_prompt.txt',   │ │
│ │           │   │   │   text_unit_prop=0.5,                                │ │
│ │           │   │   │   conversation_history_max_turns=5,                  │ │
│ │           │   │   │   temperature=0,                                     │ │
│ │           │   │   │   top_p=1,                                           │ │
│ │           │   │   │   n=1,                                               │ │
│ │           │   │   │   max_tokens=12000,                                  │ │
│ │           │   │   │   llm_max_tokens=2000                                │ │
│ │           │   │   ),                                                     │ │
│ │           │   │   vector_store={                                         │ │
│ │           │   │   │   'output': VectorStoreConfig(                       │ │
│ │           │   │   │   │   type='lancedb',                                │ │
│ │           │   │   │   │                                                  │ │
│ │           db_uri='/scratch/gpfs/jx0800/data/graphrag/output/lancedb',    │ │
│ │           │   │   │   │   url=None,                                      │ │
│ │           │   │   │   │   api_key=None,                                  │ │
│ │           │   │   │   │   audience=None,                                 │ │
│ │           │   │   │   │   container_name='default',                      │ │
│ │           │   │   │   │   database_name=None,                            │ │
│ │           │   │   │   │   overwrite=True                                 │ │
│ │           │   │   │   )                                                  │ │
│ │           │   │   }                                                      │ │
│ │           │   ),                                                         │ │
│ │           │   'nodes':                                        id         │ │
│ │           human_readable_id  ...  x  y                                   │ │
│ │           0    361d38e8-a81c-43bf-a292-0cf59164fcfe                  0   │ │
│ │           ...  0  0                                                      │ │
│ │           1    361d38e8-a81c-43bf-a292-0cf59164fcfe                  0   │ │
│ │           ...  0  0                                                      │ │
│ │           2    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d                  1   │ │
│ │           ...  0  0                                                      │ │
│ │           3    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d                  1   │ │
│ │           ...  0  0                                                      │ │
│ │           4    33dce321-f4d6-451b-93a0-facff7bd4cfc                  2   │ │
│ │           ...  0  0                                                      │ │
│ │           ..                                    ...                ...   │ │
│ │           ... .. ..                                                      │ │
│ │           113  8578ccd8-76f7-4dd5-aefc-e9502499d5ee                 73   │ │
│ │           ...  0  0                                                      │ │
│ │           114  73903f34-7e8a-41c4-853e-b43359f25b82                 74   │ │
│ │           ...  0  0                                                      │ │
│ │           115  ba65496d-ddb1-4d08-a203-4691b4c7cc65                 75   │ │
│ │           ...  0  0                                                      │ │
│ │           116  b20370ae-854f-4781-b6e9-564adb5e75bb                 76   │ │
│ │           ...  0  0                                                      │ │
│ │           117  f3b34144-c8b6-4780-aee2-2ff729c2f05c                 77   │ │
│ │           ...  0  0                                                      │ │
│ │                                                                          │ │
│ │           [118 rows x 8 columns],                                        │ │
│ │           │   'entities':                                       id  ...  │ │
│ │           text_unit_ids                                                  │ │
│ │           0   361d38e8-a81c-43bf-a292-0cf59164fcfe  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           1   5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           2   33dce321-f4d6-451b-93a0-facff7bd4cfc  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           3   90a196a9-af02-4818-8d48-31dd069776e9  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           4   69d3cde4-21d5-4aa7-b499-52ceffabb3fd  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           ..                                   ...  ...                  │ │
│ │           ...                                                            │ │
│ │           73  8578ccd8-76f7-4dd5-aefc-e9502499d5ee  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           74  73903f34-7e8a-41c4-853e-b43359f25b82  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           75  ba65496d-ddb1-4d08-a203-4691b4c7cc65  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           76  b20370ae-854f-4781-b6e9-564adb5e75bb  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           77  f3b34144-c8b6-4780-aee2-2ff729c2f05c  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │                                                                          │ │
│ │           [78 rows x 6 columns],                                         │ │
│ │           │   'community_reports':                                  id   │ │
│ │           human_readable_id  ...      period  size                       │ │
│ │           0  edf604d62cc7486cb9dc1f3b62a1b613                  5  ...    │ │
│ │           2025-01-28    19                                               │ │
│ │           1  f428381efac24e028b01b86d6dbf1a63                  6  ...    │ │
│ │           2025-01-28     2                                               │ │
│ │           2  f6b7e995c6514905a1743e28004cd6c4                  7  ...    │ │
│ │           2025-01-28    17                                               │ │
│ │           3  255e5acc15d84fa7b72aa2a62f3d1106                  8  ...    │ │
│ │           2025-01-28     2                                               │ │
│ │           4  0a68b27dcf2c48568c408cd4fdb36ff2                  0  ...    │ │
│ │           2025-01-28    13                                               │ │
│ │           5  87ab2281a26f4425a4fa5ef7d6ff90e7                  1  ...    │ │
│ │           2025-01-28    16                                               │ │
│ │           6  c9e6911cbdf8411eb4f18bdb27e1042d                  2  ...    │ │
│ │           2025-01-28    21                                               │ │
│ │           7  cb9e029c75524fa294516f922767dfc4                  3  ...    │ │
│ │           2025-01-28    19                                               │ │
│ │           8  e535ae20b1324dba8a7917d85ebb1ca6                  4  ...    │ │
│ │           2025-01-28     3                                               │ │
│ │                                                                          │ │
│ │           [9 rows x 14 columns],                                         │ │
│ │           │   'text_units':                                              │ │
│ │           id  ...                                   relationship_ids     │ │
│ │           0  e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a303...  ...      │ │
│ │           [30bda342-2449-47b2-ad1d-01db21aeafe3, b1d6d5a...              │ │
│ │           1  826236e9b53b61f612c6be568d84689b52b02eaab67617...  ...      │ │
│ │           [4afb894f-4bbb-40f1-8611-670ef3325b4f, 2551005...              │ │
│ │           2  bcfc6a23d78c876f7cc226f911e6ce8375526d89093e88...  ...      │ │
│ │           [7c8977e4-ad87-4db9-b790-edfd3bd9dd3a, 224194a...              │ │
│ │           3  332527ce3f7779776fcfae343ec912a32806bb50e27d75...  ...      │ │
│ │           [aa46818b-6b8a-43ec-8e63-2a29b0a1fbc0, 3c85ae8...              │ │
│ │                                                                          │ │
│ │           [4 rows x 7 columns],                                          │ │
│ │           │   'relationships':                                       id  │ │
│ │           ...                                      text_unit_ids         │ │
│ │           0   30bda342-2449-47b2-ad1d-01db21aeafe3  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           1   b1d6d5ae-3b60-4297-9642-a721f9c2fb8c  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           2   f3089407-a992-4bf2-bf54-a9ce82eddd82  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           3   b1ada996-01bd-41fa-9c5e-9023b0e4651e  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           4   596f1d62-9cdd-4aa2-8d11-0cbe2cae39e3  ...                  │ │
│ │           [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce43a30...              │ │
│ │           ..                                   ...  ...                  │ │
│ │           ...                                                            │ │
│ │           81  165ef284-3ac5-4b2c-82eb-5edddb988f48  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           82  ddc4b38f-59cc-4982-85e3-88d9fbaa06a5  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           83  c08d0886-947f-4923-91cc-92c29dfd4208  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           84  2b3f689d-a803-4a03-a775-71d6eb93c5c7  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │           85  33d7767e-e7be-42ac-8d4d-4b750cb07e9d  ...                  │ │
│ │           [332527ce3f7779776fcfae343ec912a32806bb50e27d7...              │ │
│ │                                                                          │ │
│ │           [86 rows x 8 columns],                                         │ │
│ │           │   'covariates': None,                                        │ │
│ │           │   'community_level': 2,                                      │ │
│ │           │   'response_type': 'Multiple Paragraphs',                    │ │
│ │           │   'query': "What's the difference between CNN and GNN?       │ │
│ │           Concluse the pros and cons."                                   │ │
│ │           }                                                              │ │
│ │ wrapper = <bound method ValidateCallWrapper.__call__ of                  │ │
│ │           <pydantic._internal._validate_call.ValidateCallWrapper object  │ │
│ │           at 0x1529dabed630>>                                            │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/graphrag/graphrag/api/query.py:426 in local_search              │
│                                                                              │
│    423 │   covariates_ = read_indexer_covariates(covariates) if covariates i │
│    424 │   prompt = load_search_prompt(config.root_dir, config.local_search. │
│    425 │                                                                     │
│ ❱  426 │   search_engine = get_local_search_engine(                          │
│    427 │   │   config=config,                                                │
│    428 │   │   reports=read_indexer_reports(community_reports, nodes, commun │
│    429 │   │   text_units=read_indexer_text_units(text_units),               │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │             community_level = 2                                          │ │
│ │           community_reports = │   │   │   │   │   │   │   │    id        │ │
│ │                               human_readable_id  ...      period  size   │ │
│ │                               0  edf604d62cc7486cb9dc1f3b62a1b613        │ │
│ │                               5  ...  2025-01-28    19                   │ │
│ │                               1  f428381efac24e028b01b86d6dbf1a63        │ │
│ │                               6  ...  2025-01-28     2                   │ │
│ │                               2  f6b7e995c6514905a1743e28004cd6c4        │ │
│ │                               7  ...  2025-01-28    17                   │ │
│ │                               3  255e5acc15d84fa7b72aa2a62f3d1106        │ │
│ │                               8  ...  2025-01-28     2                   │ │
│ │                               4  0a68b27dcf2c48568c408cd4fdb36ff2        │ │
│ │                               0  ...  2025-01-28    13                   │ │
│ │                               5  87ab2281a26f4425a4fa5ef7d6ff90e7        │ │
│ │                               1  ...  2025-01-28    16                   │ │
│ │                               6  c9e6911cbdf8411eb4f18bdb27e1042d        │ │
│ │                               2  ...  2025-01-28    21                   │ │
│ │                               7  cb9e029c75524fa294516f922767dfc4        │ │
│ │                               3  ...  2025-01-28    19                   │ │
│ │                               8  e535ae20b1324dba8a7917d85ebb1ca6        │ │
│ │                               4  ...  2025-01-28     3                   │ │
│ │                                                                          │ │
│ │                               [9 rows x 14 columns]                      │ │
│ │                      config = GraphRagConfig(                            │ │
│ │                               │                                          │ │
│ │                               root_dir='/scratch/gpfs/jx0800/data/graph… │ │
│ │                               │   models={                               │ │
│ │                               │   │   'default_chat_model':              │ │
│ │                               LanguageModelConfig(                       │ │
│ │                               │   │   │                                  │ │
│ │                               api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6… │ │
│ │                               │   │   │   azure_auth_type=None,          │ │
│ │                               │   │   │   type="openai_chat",            │ │
│ │                               │   │   │   model='llama3.2:3b',           │ │
│ │                               │   │   │   encoding_model='cl100k_base',  │ │
│ │                               │   │   │   max_tokens=20000,              │ │
│ │                               │   │   │   temperature=0.6,               │ │
│ │                               │   │   │   top_p=0.9,                     │ │
│ │                               │   │   │   n=1,                           │ │
│ │                               │   │   │   frequency_penalty=0.0,         │ │
│ │                               │   │   │   presence_penalty=0.0,          │ │
│ │                               │   │   │   request_timeout=180.0,         │ │
│ │                               │   │   │                                  │ │
│ │                               api_base='http://localhost:11434/v1',      │ │
│ │                               │   │   │   api_version=None,              │ │
│ │                               │   │   │   deployment_name=None,          │ │
│ │                               │   │   │   organization=None,             │ │
│ │                               │   │   │   proxy=None,                    │ │
│ │                               │   │   │   audience=None,                 │ │
│ │                               │   │   │   model_supports_json=True,      │ │
│ │                               │   │   │   tokens_per_minute=50000,       │ │
│ │                               │   │   │   requests_per_minute=1000,      │ │
│ │                               │   │   │   max_retries=10,                │ │
│ │                               │   │   │   max_retry_wait=10.0,           │ │
│ │                               │   │   │                                  │ │
│ │                               sleep_on_rate_limit_recommendation=True,   │ │
│ │                               │   │   │   concurrent_requests=25,        │ │
│ │                               │   │   │   responses=None,                │ │
│ │                               │   │   │   parallelization_stagger=0.3,   │ │
│ │                               │   │   │                                  │ │
│ │                               parallelization_num_threads=50,            │ │
│ │                               │   │   │                                  │ │
│ │                               async_mode=<AsyncType.Threaded:            │ │
│ │                               'threaded'>                                │ │
│ │                               │   │   ),                                 │ │
│ │                               │   │   'default_embedding_model':         │ │
│ │                               LanguageModelConfig(                       │ │
│ │                               │   │   │                                  │ │
│ │                               api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6… │ │
│ │                               │   │   │   azure_auth_type=None,          │ │
│ │                               │   │   │   type="openai_embedding",       │ │
│ │                               │   │   │   model='nomic-embed-text',      │ │
│ │                               │   │   │   encoding_model='cl100k_base',  │ │
│ │                               │   │   │   max_tokens=20000,              │ │
│ │                               │   │   │   temperature=0.6,               │ │
│ │                               │   │   │   top_p=0.9,                     │ │
│ │                               │   │   │   n=1,                           │ │
│ │                               │   │   │   frequency_penalty=0.0,         │ │
│ │                               │   │   │   presence_penalty=0.0,          │ │
│ │                               │   │   │   request_timeout=180.0,         │ │
│ │                               │   │   │                                  │ │
│ │                               api_base='http://localhost:11434/api',     │ │
│ │                               │   │   │   api_version=None,              │ │
│ │                               │   │   │   deployment_name=None,          │ │
│ │                               │   │   │   organization=None,             │ │
│ │                               │   │   │   proxy=None,                    │ │
│ │                               │   │   │   audience=None,                 │ │
│ │                               │   │   │   model_supports_json=None,      │ │
│ │                               │   │   │   tokens_per_minute=50000,       │ │
│ │                               │   │   │   requests_per_minute=1000,      │ │
│ │                               │   │   │   max_retries=10,                │ │
│ │                               │   │   │   max_retry_wait=10.0,           │ │
│ │                               │   │   │                                  │ │
│ │                               sleep_on_rate_limit_recommendation=True,   │ │
│ │                               │   │   │   concurrent_requests=25,        │ │
│ │                               │   │   │   responses=None,                │ │
│ │                               │   │   │   parallelization_stagger=0.3,   │ │
│ │                               │   │   │                                  │ │
│ │                               parallelization_num_threads=50,            │ │
│ │                               │   │   │                                  │ │
│ │                               async_mode=<AsyncType.Threaded:            │ │
│ │                               'threaded'>                                │ │
│ │                               │   │   )                                  │ │
│ │                               │   },                                     │ │
│ │                               │   reporting=ReportingConfig(             │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │                                      │ │
│ │                               base_dir='/scratch/gpfs/jx0800/data/graph… │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   storage_account_blob_url=None      │ │
│ │                               │   ),                                     │ │
│ │                               │   output=OutputConfig(                   │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │                                      │ │
│ │                               base_dir='/scratch/gpfs/jx0800/data/graph… │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   storage_account_blob_url=None,     │ │
│ │                               │   │   cosmosdb_account_url=None          │ │
│ │                               │   ),                                     │ │
│ │                               │   update_index_output=None,              │ │
│ │                               │   cache=CacheConfig(                     │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │   base_dir='cache',                  │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   storage_account_blob_url=None,     │ │
│ │                               │   │   cosmosdb_account_url=None          │ │
│ │                               │   ),                                     │ │
│ │                               │   input=InputConfig(                     │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │   file_type="text",                  │ │
│ │                               │   │   base_dir='input',                  │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   storage_account_blob_url=None,     │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   encoding='utf-8',                  │ │
│ │                               │   │   file_pattern='.*\\.txt$',          │ │
│ │                               │   │   file_filter=None,                  │ │
│ │                               │   │   source_column=None,                │ │
│ │                               │   │   timestamp_column=None,             │ │
│ │                               │   │   timestamp_format=None,             │ │
│ │                               │   │   text_column='text',                │ │
│ │                               │   │   title_column=None,                 │ │
│ │                               │   │   document_attribute_columns=[]      │ │
│ │                               │   ),                                     │ │
│ │                               │   embed_graph=EmbedGraphConfig(          │ │
│ │                               │   │   enabled=False,                     │ │
│ │                               │   │   dimensions=1536,                   │ │
│ │                               │   │   num_walks=10,                      │ │
│ │                               │   │   walk_length=40,                    │ │
│ │                               │   │   window_size=2,                     │ │
│ │                               │   │   iterations=3,                      │ │
│ │                               │   │   random_seed=597832,                │ │
│ │                               │   │   use_lcc=True                       │ │
│ │                               │   ),                                     │ │
│ │                               │   embeddings=TextEmbeddingConfig(        │ │
│ │                               │   │   batch_size=16,                     │ │
│ │                               │   │   batch_max_tokens=8191,             │ │
│ │                               │   │   target="required",                 │ │
│ │                               │   │   names=[],                          │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   model_id='default_embedding_model' │ │
│ │                               │   ),                                     │ │
│ │                               │   chunks=ChunkingConfig(                 │ │
│ │                               │   │   size=1200,                         │ │
│ │                               │   │   overlap=100,                       │ │
│ │                               │   │   group_by_columns=['id'],           │ │
│ │                               │   │   strategy="tokens",                 │ │
│ │                               │   │   encoding_model='cl100k_base'       │ │
│ │                               │   ),                                     │ │
│ │                               │   snapshots=SnapshotsConfig(             │ │
│ │                               │   │   embeddings=False,                  │ │
│ │                               │   │   graphml=False,                     │ │
│ │                               │   │   transient=False                    │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               entity_extraction=EntityExtractionConfig(  │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/entity_extraction.txt',    │ │
│ │                               │   │   entity_types=[                     │ │
│ │                               │   │   │   'organization',                │ │
│ │                               │   │   │   'person',                      │ │
│ │                               │   │   │   'geo',                         │ │
│ │                               │   │   │   'event'                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   max_gleanings=1,                   │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   encoding_model=None,               │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               summarize_descriptions=SummarizeDescripti… │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/summarize_descriptions.tx… │ │
│ │                               │   │   max_length=500,                    │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               community_reports=CommunityReportsConfig(  │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/community_report.txt',     │ │
│ │                               │   │   max_length=2000,                   │ │
│ │                               │   │   max_input_length=8000,             │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               claim_extraction=ClaimExtractionConfig(    │ │
│ │                               │   │   enabled=False,                     │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/claim_extraction.txt',     │ │
│ │                               │   │   description='Any claims or facts   │ │
│ │                               that could be relevant to information      │ │
│ │                               discovery.',                               │ │
│ │                               │   │   max_gleanings=1,                   │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   encoding_model=None,               │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │   cluster_graph=ClusterGraphConfig(      │ │
│ │                               │   │   max_cluster_size=10,               │ │
│ │                               │   │   use_lcc=True,                      │ │
│ │                               │   │   seed=3735928559                    │ │
│ │                               │   ),                                     │ │
│ │                               │   umap=UmapConfig(enabled=False),        │ │
│ │                               │   local_search=LocalSearchConfig(        │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/local_search_system_promp… │ │
│ │                               │   │   text_unit_prop=0.5,                │ │
│ │                               │   │   community_prop=0.15,               │ │
│ │                               │   │   conversation_history_max_turns=5,  │ │
│ │                               │   │   top_k_entities=10,                 │ │
│ │                               │   │   top_k_relationships=10,            │ │
│ │                               │   │   temperature=0.6,                   │ │
│ │                               │   │   top_p=0.9,                         │ │
│ │                               │   │   n=1,                               │ │
│ │                               │   │   max_tokens=20000,                  │ │
│ │                               │   │   llm_max_tokens=20000               │ │
│ │                               │   ),                                     │ │
│ │                               │   global_search=GlobalSearchConfig(      │ │
│ │                               │   │                                      │ │
│ │                               map_prompt='prompts/global_search_map_sys… │ │
│ │                               │   │                                      │ │
│ │                               reduce_prompt='prompts/global_search_redu… │ │
│ │                               │   │                                      │ │
│ │                               knowledge_prompt='prompts/global_search_k… │ │
│ │                               │   │   temperature=0,                     │ │
│ │                               │   │   top_p=1,                           │ │
│ │                               │   │   n=1,                               │ │
│ │                               │   │   max_tokens=12000,                  │ │
│ │                               │   │   data_max_tokens=12000,             │ │
│ │                               │   │   map_max_tokens=1000,               │ │
│ │                               │   │   reduce_max_tokens=2000,            │ │
│ │                               │   │   concurrency=32,                    │ │
│ │                               │   │   dynamic_search_llm='gpt-4o-mini',  │ │
│ │                               │   │   dynamic_search_threshold=1,        │ │
│ │                               │   │   dynamic_search_keep_parent=False,  │ │
│ │                               │   │   dynamic_search_num_repeats=1,      │ │
│ │                               │   │   dynamic_search_use_summary=False,  │ │
│ │                               │   │                                      │ │
│ │                               dynamic_search_concurrent_coroutines=16,   │ │
│ │                               │   │   dynamic_search_max_level=2         │ │
│ │                               │   ),                                     │ │
│ │                               │   drift_search=DRIFTSearchConfig(        │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/drift_search_system_promp… │ │
│ │                               │   │                                      │ │
│ │                               reduce_prompt='prompts/drift_search_reduc… │ │
│ │                               │   │   temperature=0,                     │ │
│ │                               │   │   top_p=1,                           │ │
│ │                               │   │   n=3,                               │ │
│ │                               │   │   max_tokens=12000,                  │ │
│ │                               │   │   data_max_tokens=12000,             │ │
│ │                               │   │   reduce_max_tokens=2000,            │ │
│ │                               │   │   reduce_temperature=0,              │ │
│ │                               │   │   concurrency=32,                    │ │
│ │                               │   │   drift_k_followups=20,              │ │
│ │                               │   │   primer_folds=5,                    │ │
│ │                               │   │   primer_llm_max_tokens=12000,       │ │
│ │                               │   │   n_depth=3,                         │ │
│ │                               │   │   local_search_text_unit_prop=0.9,   │ │
│ │                               │   │   local_search_community_prop=0.1,   │ │
│ │                               │   │                                      │ │
│ │                               local_search_top_k_mapped_entities=10,     │ │
│ │                               │   │                                      │ │
│ │                               local_search_top_k_relationships=10,       │ │
│ │                               │   │                                      │ │
│ │                               local_search_max_data_tokens=12000,        │ │
│ │                               │   │   local_search_temperature=0,        │ │
│ │                               │   │   local_search_top_p=1,              │ │
│ │                               │   │   local_search_n=1,                  │ │
│ │                               │   │                                      │ │
│ │                               local_search_llm_max_gen_tokens=2000       │ │
│ │                               │   ),                                     │ │
│ │                               │   basic_search=BasicSearchConfig(        │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/basic_search_system_promp… │ │
│ │                               │   │   text_unit_prop=0.5,                │ │
│ │                               │   │   conversation_history_max_turns=5,  │ │
│ │                               │   │   temperature=0,                     │ │
│ │                               │   │   top_p=1,                           │ │
│ │                               │   │   n=1,                               │ │
│ │                               │   │   max_tokens=12000,                  │ │
│ │                               │   │   llm_max_tokens=2000                │ │
│ │                               │   ),                                     │ │
│ │                               │   vector_store={                         │ │
│ │                               │   │   'output': VectorStoreConfig(       │ │
│ │                               │   │   │   type='lancedb',                │ │
│ │                               │   │   │                                  │ │
│ │                               db_uri='/scratch/gpfs/jx0800/data/graphra… │ │
│ │                               │   │   │   url=None,                      │ │
│ │                               │   │   │   api_key=None,                  │ │
│ │                               │   │   │   audience=None,                 │ │
│ │                               │   │   │   container_name='default',      │ │
│ │                               │   │   │   database_name=None,            │ │
│ │                               │   │   │   overwrite=True                 │ │
│ │                               │   │   )                                  │ │
│ │                               │   }                                      │ │
│ │                               )                                          │ │
│ │                  covariates = None                                       │ │
│ │                 covariates_ = []                                         │ │
│ │ description_embedding_store = <graphrag.vector_stores.lancedb.LanceDBVe… │ │
│ │                               object at 0x1529db6c0bd0>                  │ │
│ │                    entities = │   │   │   │   │   │   │   │   │     id   │ │
│ │                               ...                                        │ │
│ │                               text_unit_ids                              │ │
│ │                               0   361d38e8-a81c-43bf-a292-0cf59164fcfe   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               1   5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               2   33dce321-f4d6-451b-93a0-facff7bd4cfc   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               3   90a196a9-af02-4818-8d48-31dd069776e9   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               4   69d3cde4-21d5-4aa7-b499-52ceffabb3fd   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               ..                                   ...   │ │
│ │                               ...                                        │ │
│ │                               ...                                        │ │
│ │                               73  8578ccd8-76f7-4dd5-aefc-e9502499d5ee   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               74  73903f34-7e8a-41c4-853e-b43359f25b82   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               75  ba65496d-ddb1-4d08-a203-4691b4c7cc65   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               76  b20370ae-854f-4781-b6e9-564adb5e75bb   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               77  f3b34144-c8b6-4780-aee2-2ff729c2f05c   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                                                                          │ │
│ │                               [78 rows x 6 columns]                      │ │
│ │                   entities_ = [                                          │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='05e2a376-1b86-4c7d-8188-f0ba77ff466e', │ │
│ │                               │   │   short_id='72',                     │ │
│ │                               │   │   title='LINFORMER',                 │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Linformer is a model  │ │
│ │                               that aims to make transformer neural       │ │
│ │                               networks more efficien'+1,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['1'],               │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               '332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='06664b5c-6528-43af-ac46-d3374d70c762', │ │
│ │                               │   │   short_id='38',                     │ │
│ │                               │   │   title='SEARCH ENGINES',            │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Search engines are a  │ │
│ │                               type of application that benefit from      │ │
│ │                               Graph Neural Networks'+64,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['4'],               │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               '826236e9b53b61f612c6be568d84689b52b02eaa… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='093d68c5-5d78-42b6-929c-a086b45c8269', │ │
│ │                               │   │   short_id='49',                     │ │
│ │                               │   │   title='RESNET',                    │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='ResNet is a           │ │
│ │                               convolutional neural network model that    │ │
│ │                               achieved state-of-the-art pe'+48,          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='1090b294-ea12-4b0d-9790-dfbb7ced303f', │ │
│ │                               │   │   short_id='50',                     │ │
│ │                               │   │   title='YOLO',                      │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='YOLO is an object     │ │
│ │                               detection framework that leverages         │ │
│ │                               Convolutional Neural Networ'+49,           │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='20b2e048-f4d4-4fb5-9a3b-304e0681967c', │ │
│ │                               │   │   short_id='30',                     │ │
│ │                               │   │   title='CONVOLUTIONAL NEURAL        │ │
│ │                               NETWORKS',                                 │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Convolutional Neural  │ │
│ │                               Networks are a type of neural network      │ │
│ │                               designed for processi'+483,                │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               '826236e9b53b61f612c6be568d84689b52b02eaa… │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=22,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='21e8a915-d1a5-4c21-a67d-423ab9e9a7c6', │ │
│ │                               │   │   short_id='57',                     │ │
│ │                               │   │   title='GENOMICS',                  │ │
│ │                               │   │   type='GEO',                        │ │
│ │                               │   │   description='Genomics is a field   │ │
│ │                               of study that involves the analysis of     │ │
│ │                               genetic data',                             │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='23e90035-1c2a-4f7c-b3a5-2ce40e787b99', │ │
│ │                               │   │   short_id='62',                     │ │
│ │                               │   │   title='GPU',                       │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='GPU is a type of      │ │
│ │                               hardware used for training Convolutional   │ │
│ │                               Neural Networks',                          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='241d8560-db2f-4b6a-b684-e1f6c0199807', │ │
│ │                               │   │   short_id='6',                      │ │
│ │                               │   │   title='FINANCIAL SERVICES',        │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Financial services    │ │
│ │                               use machine learning for fraud detection,  │ │
│ │                               credit scoring, and'+20,                   │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['3', '7'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='2ce4d55d-3f44-44d8-aa8c-8fb1478f6d89', │ │
│ │                               │   │   short_id='63',                     │ │
│ │                               │   │   title='TPU',                       │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='TPU is a type of      │ │
│ │                               hardware used for training Convolutional   │ │
│ │                               Neural Networks',                          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='33dce321-f4d6-451b-93a0-facff7bd4cfc', │ │
│ │                               │   │   short_id='2',                      │ │
│ │                               │   │   title='SUPERVISED LEARNING',       │ │
│ │                               │   │   type='EVENT',                      │ │
│ │                               │   │   description='Supervised learning   │ │
│ │                               involves training a model on a labeled     │ │
│ │                               dataset to perform ta'+38,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['3', '7'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   ... +68                                │ │
│ │                               ]                                          │ │
│ │                       index = 'output'                                   │ │
│ │                       nodes = │   │   │   │   │   │   │   │   │      id  │ │
│ │                               human_readable_id  ...  x  y               │ │
│ │                               0    361d38e8-a81c-43bf-a292-0cf59164fcfe  │ │
│ │                               0  ...  0  0                               │ │
│ │                               1    361d38e8-a81c-43bf-a292-0cf59164fcfe  │ │
│ │                               0  ...  0  0                               │ │
│ │                               2    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d  │ │
│ │                               1  ...  0  0                               │ │
│ │                               3    5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d  │ │
│ │                               1  ...  0  0                               │ │
│ │                               4    33dce321-f4d6-451b-93a0-facff7bd4cfc  │ │
│ │                               2  ...  0  0                               │ │
│ │                               ..                                    ...  │ │
│ │                               ...  ... .. ..                             │ │
│ │                               113  8578ccd8-76f7-4dd5-aefc-e9502499d5ee  │ │
│ │                               73  ...  0  0                              │ │
│ │                               114  73903f34-7e8a-41c4-853e-b43359f25b82  │ │
│ │                               74  ...  0  0                              │ │
│ │                               115  ba65496d-ddb1-4d08-a203-4691b4c7cc65  │ │
│ │                               75  ...  0  0                              │ │
│ │                               116  b20370ae-854f-4781-b6e9-564adb5e75bb  │ │
│ │                               76  ...  0  0                              │ │
│ │                               117  f3b34144-c8b6-4780-aee2-2ff729c2f05c  │ │
│ │                               77  ...  0  0                              │ │
│ │                                                                          │ │
│ │                               [118 rows x 8 columns]                     │ │
│ │                      prompt = '\n---Role---\n\nYou are a helpful         │ │
│ │                               assistant responding to questions about    │ │
│ │                               data in t'+2471                            │ │
│ │                       query = "What's the difference between CNN and     │ │
│ │                               GNN? Concluse the pros and cons."          │ │
│ │               relationships = │   │   │   │   │   │   │   │   │     id   │ │
│ │                               ...                                        │ │
│ │                               text_unit_ids                              │ │
│ │                               0   30bda342-2449-47b2-ad1d-01db21aeafe3   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               1   b1d6d5ae-3b60-4297-9642-a721f9c2fb8c   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               2   f3089407-a992-4bf2-bf54-a9ce82eddd82   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               3   b1ada996-01bd-41fa-9c5e-9023b0e4651e   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               4   596f1d62-9cdd-4aa2-8d11-0cbe2cae39e3   │ │
│ │                               ...                                        │ │
│ │                               [e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               ..                                   ...   │ │
│ │                               ...                                        │ │
│ │                               ...                                        │ │
│ │                               81  165ef284-3ac5-4b2c-82eb-5edddb988f48   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               82  ddc4b38f-59cc-4982-85e3-88d9fbaa06a5   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               83  c08d0886-947f-4923-91cc-92c29dfd4208   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               84  2b3f689d-a803-4a03-a775-71d6eb93c5c7   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               85  33d7767e-e7be-42ac-8d4d-4b750cb07e9d   │ │
│ │                               ...                                        │ │
│ │                               [332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                                                                          │ │
│ │                               [86 rows x 8 columns]                      │ │
│ │               response_type = 'Multiple Paragraphs'                      │ │
│ │                       store = VectorStoreConfig(                         │ │
│ │                               │   type='lancedb',                        │ │
│ │                               │                                          │ │
│ │                               db_uri='/scratch/gpfs/jx0800/data/graphra… │ │
│ │                               │   url=None,                              │ │
│ │                               │   api_key=None,                          │ │
│ │                               │   audience=None,                         │ │
│ │                               │   container_name='default',              │ │
│ │                               │   database_name=None,                    │ │
│ │                               │   overwrite=True                         │ │
│ │                               )                                          │ │
│ │                  text_units = │   │   │   │   │   │   │   │   │   │   │  │ │
│ │                               │     id  ...                              │ │
│ │                               relationship_ids                           │ │
│ │                               0                                          │ │
│ │                               e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce4… │ │
│ │                               ...                                        │ │
│ │                               [30bda342-2449-47b2-ad1d-01db21aeafe3,     │ │
│ │                               b1d6d5a...                                 │ │
│ │                               1                                          │ │
│ │                               826236e9b53b61f612c6be568d84689b52b02eaab… │ │
│ │                               ...                                        │ │
│ │                               [4afb894f-4bbb-40f1-8611-670ef3325b4f,     │ │
│ │                               2551005...                                 │ │
│ │                               2                                          │ │
│ │                               bcfc6a23d78c876f7cc226f911e6ce8375526d890… │ │
│ │                               ...                                        │ │
│ │                               [7c8977e4-ad87-4db9-b790-edfd3bd9dd3a,     │ │
│ │                               224194a...                                 │ │
│ │                               3                                          │ │
│ │                               332527ce3f7779776fcfae343ec912a32806bb50e… │ │
│ │                               ...                                        │ │
│ │                               [aa46818b-6b8a-43ec-8e63-2a29b0a1fbc0,     │ │
│ │                               3c85ae8...                                 │ │
│ │                                                                          │ │
│ │                               [4 rows x 7 columns]                       │ │
│ │           vector_store_args = {                                          │ │
│ │                               │   'output': {                            │ │
│ │                               │   │   'type': 'lancedb',                 │ │
│ │                               │   │   'db_uri':                          │ │
│ │                               '/scratch/gpfs/jx0800/data/graphrag/outpu… │ │
│ │                               │   │   'url': None,                       │ │
│ │                               │   │   'api_key': None,                   │ │
│ │                               │   │   'audience': None,                  │ │
│ │                               │   │   'container_name': 'default',       │ │
│ │                               │   │   'database_name': None,             │ │
│ │                               │   │   'overwrite': True                  │ │
│ │                               │   }                                      │ │
│ │                               }                                          │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/graphrag/graphrag/query/factory.py:50 in                        │
│ get_local_search_engine                                                      │
│                                                                              │
│    47 │   """Create a local search engine based on data + configuration."""  │
│    48 │   default_llm_settings = config.get_language_model_config("default_c │
│    49 │   llm = get_llm(config)                                              │
│ ❱  50 │   text_embedder = get_text_embedder(config)                          │
│    51 │   token_encoder = tiktoken.get_encoding(default_llm_settings.encodin │
│    52 │   ls_config = config.local_search                                    │
│    53                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │                      config = GraphRagConfig(                            │ │
│ │                               │                                          │ │
│ │                               root_dir='/scratch/gpfs/jx0800/data/graph… │ │
│ │                               │   models={                               │ │
│ │                               │   │   'default_chat_model':              │ │
│ │                               LanguageModelConfig(                       │ │
│ │                               │   │   │                                  │ │
│ │                               api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6… │ │
│ │                               │   │   │   azure_auth_type=None,          │ │
│ │                               │   │   │   type="openai_chat",            │ │
│ │                               │   │   │   model='llama3.2:3b',           │ │
│ │                               │   │   │   encoding_model='cl100k_base',  │ │
│ │                               │   │   │   max_tokens=20000,              │ │
│ │                               │   │   │   temperature=0.6,               │ │
│ │                               │   │   │   top_p=0.9,                     │ │
│ │                               │   │   │   n=1,                           │ │
│ │                               │   │   │   frequency_penalty=0.0,         │ │
│ │                               │   │   │   presence_penalty=0.0,          │ │
│ │                               │   │   │   request_timeout=180.0,         │ │
│ │                               │   │   │                                  │ │
│ │                               api_base='http://localhost:11434/v1',      │ │
│ │                               │   │   │   api_version=None,              │ │
│ │                               │   │   │   deployment_name=None,          │ │
│ │                               │   │   │   organization=None,             │ │
│ │                               │   │   │   proxy=None,                    │ │
│ │                               │   │   │   audience=None,                 │ │
│ │                               │   │   │   model_supports_json=True,      │ │
│ │                               │   │   │   tokens_per_minute=50000,       │ │
│ │                               │   │   │   requests_per_minute=1000,      │ │
│ │                               │   │   │   max_retries=10,                │ │
│ │                               │   │   │   max_retry_wait=10.0,           │ │
│ │                               │   │   │                                  │ │
│ │                               sleep_on_rate_limit_recommendation=True,   │ │
│ │                               │   │   │   concurrent_requests=25,        │ │
│ │                               │   │   │   responses=None,                │ │
│ │                               │   │   │   parallelization_stagger=0.3,   │ │
│ │                               │   │   │                                  │ │
│ │                               parallelization_num_threads=50,            │ │
│ │                               │   │   │                                  │ │
│ │                               async_mode=<AsyncType.Threaded:            │ │
│ │                               'threaded'>                                │ │
│ │                               │   │   ),                                 │ │
│ │                               │   │   'default_embedding_model':         │ │
│ │                               LanguageModelConfig(                       │ │
│ │                               │   │   │                                  │ │
│ │                               api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6… │ │
│ │                               │   │   │   azure_auth_type=None,          │ │
│ │                               │   │   │   type="openai_embedding",       │ │
│ │                               │   │   │   model='nomic-embed-text',      │ │
│ │                               │   │   │   encoding_model='cl100k_base',  │ │
│ │                               │   │   │   max_tokens=20000,              │ │
│ │                               │   │   │   temperature=0.6,               │ │
│ │                               │   │   │   top_p=0.9,                     │ │
│ │                               │   │   │   n=1,                           │ │
│ │                               │   │   │   frequency_penalty=0.0,         │ │
│ │                               │   │   │   presence_penalty=0.0,          │ │
│ │                               │   │   │   request_timeout=180.0,         │ │
│ │                               │   │   │                                  │ │
│ │                               api_base='http://localhost:11434/api',     │ │
│ │                               │   │   │   api_version=None,              │ │
│ │                               │   │   │   deployment_name=None,          │ │
│ │                               │   │   │   organization=None,             │ │
│ │                               │   │   │   proxy=None,                    │ │
│ │                               │   │   │   audience=None,                 │ │
│ │                               │   │   │   model_supports_json=None,      │ │
│ │                               │   │   │   tokens_per_minute=50000,       │ │
│ │                               │   │   │   requests_per_minute=1000,      │ │
│ │                               │   │   │   max_retries=10,                │ │
│ │                               │   │   │   max_retry_wait=10.0,           │ │
│ │                               │   │   │                                  │ │
│ │                               sleep_on_rate_limit_recommendation=True,   │ │
│ │                               │   │   │   concurrent_requests=25,        │ │
│ │                               │   │   │   responses=None,                │ │
│ │                               │   │   │   parallelization_stagger=0.3,   │ │
│ │                               │   │   │                                  │ │
│ │                               parallelization_num_threads=50,            │ │
│ │                               │   │   │                                  │ │
│ │                               async_mode=<AsyncType.Threaded:            │ │
│ │                               'threaded'>                                │ │
│ │                               │   │   )                                  │ │
│ │                               │   },                                     │ │
│ │                               │   reporting=ReportingConfig(             │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │                                      │ │
│ │                               base_dir='/scratch/gpfs/jx0800/data/graph… │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   storage_account_blob_url=None      │ │
│ │                               │   ),                                     │ │
│ │                               │   output=OutputConfig(                   │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │                                      │ │
│ │                               base_dir='/scratch/gpfs/jx0800/data/graph… │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   storage_account_blob_url=None,     │ │
│ │                               │   │   cosmosdb_account_url=None          │ │
│ │                               │   ),                                     │ │
│ │                               │   update_index_output=None,              │ │
│ │                               │   cache=CacheConfig(                     │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │   base_dir='cache',                  │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   storage_account_blob_url=None,     │ │
│ │                               │   │   cosmosdb_account_url=None          │ │
│ │                               │   ),                                     │ │
│ │                               │   input=InputConfig(                     │ │
│ │                               │   │   type="file",                       │ │
│ │                               │   │   file_type="text",                  │ │
│ │                               │   │   base_dir='input',                  │ │
│ │                               │   │   connection_string=None,            │ │
│ │                               │   │   storage_account_blob_url=None,     │ │
│ │                               │   │   container_name=None,               │ │
│ │                               │   │   encoding='utf-8',                  │ │
│ │                               │   │   file_pattern='.*\\.txt$',          │ │
│ │                               │   │   file_filter=None,                  │ │
│ │                               │   │   source_column=None,                │ │
│ │                               │   │   timestamp_column=None,             │ │
│ │                               │   │   timestamp_format=None,             │ │
│ │                               │   │   text_column='text',                │ │
│ │                               │   │   title_column=None,                 │ │
│ │                               │   │   document_attribute_columns=[]      │ │
│ │                               │   ),                                     │ │
│ │                               │   embed_graph=EmbedGraphConfig(          │ │
│ │                               │   │   enabled=False,                     │ │
│ │                               │   │   dimensions=1536,                   │ │
│ │                               │   │   num_walks=10,                      │ │
│ │                               │   │   walk_length=40,                    │ │
│ │                               │   │   window_size=2,                     │ │
│ │                               │   │   iterations=3,                      │ │
│ │                               │   │   random_seed=597832,                │ │
│ │                               │   │   use_lcc=True                       │ │
│ │                               │   ),                                     │ │
│ │                               │   embeddings=TextEmbeddingConfig(        │ │
│ │                               │   │   batch_size=16,                     │ │
│ │                               │   │   batch_max_tokens=8191,             │ │
│ │                               │   │   target="required",                 │ │
│ │                               │   │   names=[],                          │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   model_id='default_embedding_model' │ │
│ │                               │   ),                                     │ │
│ │                               │   chunks=ChunkingConfig(                 │ │
│ │                               │   │   size=1200,                         │ │
│ │                               │   │   overlap=100,                       │ │
│ │                               │   │   group_by_columns=['id'],           │ │
│ │                               │   │   strategy="tokens",                 │ │
│ │                               │   │   encoding_model='cl100k_base'       │ │
│ │                               │   ),                                     │ │
│ │                               │   snapshots=SnapshotsConfig(             │ │
│ │                               │   │   embeddings=False,                  │ │
│ │                               │   │   graphml=False,                     │ │
│ │                               │   │   transient=False                    │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               entity_extraction=EntityExtractionConfig(  │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/entity_extraction.txt',    │ │
│ │                               │   │   entity_types=[                     │ │
│ │                               │   │   │   'organization',                │ │
│ │                               │   │   │   'person',                      │ │
│ │                               │   │   │   'geo',                         │ │
│ │                               │   │   │   'event'                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   max_gleanings=1,                   │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   encoding_model=None,               │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               summarize_descriptions=SummarizeDescripti… │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/summarize_descriptions.tx… │ │
│ │                               │   │   max_length=500,                    │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               community_reports=CommunityReportsConfig(  │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/community_report.txt',     │ │
│ │                               │   │   max_length=2000,                   │ │
│ │                               │   │   max_input_length=8000,             │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │                                          │ │
│ │                               claim_extraction=ClaimExtractionConfig(    │ │
│ │                               │   │   enabled=False,                     │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/claim_extraction.txt',     │ │
│ │                               │   │   description='Any claims or facts   │ │
│ │                               that could be relevant to information      │ │
│ │                               discovery.',                               │ │
│ │                               │   │   max_gleanings=1,                   │ │
│ │                               │   │   strategy=None,                     │ │
│ │                               │   │   encoding_model=None,               │ │
│ │                               │   │   model_id='default_chat_model'      │ │
│ │                               │   ),                                     │ │
│ │                               │   cluster_graph=ClusterGraphConfig(      │ │
│ │                               │   │   max_cluster_size=10,               │ │
│ │                               │   │   use_lcc=True,                      │ │
│ │                               │   │   seed=3735928559                    │ │
│ │                               │   ),                                     │ │
│ │                               │   umap=UmapConfig(enabled=False),        │ │
│ │                               │   local_search=LocalSearchConfig(        │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/local_search_system_promp… │ │
│ │                               │   │   text_unit_prop=0.5,                │ │
│ │                               │   │   community_prop=0.15,               │ │
│ │                               │   │   conversation_history_max_turns=5,  │ │
│ │                               │   │   top_k_entities=10,                 │ │
│ │                               │   │   top_k_relationships=10,            │ │
│ │                               │   │   temperature=0.6,                   │ │
│ │                               │   │   top_p=0.9,                         │ │
│ │                               │   │   n=1,                               │ │
│ │                               │   │   max_tokens=20000,                  │ │
│ │                               │   │   llm_max_tokens=20000               │ │
│ │                               │   ),                                     │ │
│ │                               │   global_search=GlobalSearchConfig(      │ │
│ │                               │   │                                      │ │
│ │                               map_prompt='prompts/global_search_map_sys… │ │
│ │                               │   │                                      │ │
│ │                               reduce_prompt='prompts/global_search_redu… │ │
│ │                               │   │                                      │ │
│ │                               knowledge_prompt='prompts/global_search_k… │ │
│ │                               │   │   temperature=0,                     │ │
│ │                               │   │   top_p=1,                           │ │
│ │                               │   │   n=1,                               │ │
│ │                               │   │   max_tokens=12000,                  │ │
│ │                               │   │   data_max_tokens=12000,             │ │
│ │                               │   │   map_max_tokens=1000,               │ │
│ │                               │   │   reduce_max_tokens=2000,            │ │
│ │                               │   │   concurrency=32,                    │ │
│ │                               │   │   dynamic_search_llm='gpt-4o-mini',  │ │
│ │                               │   │   dynamic_search_threshold=1,        │ │
│ │                               │   │   dynamic_search_keep_parent=False,  │ │
│ │                               │   │   dynamic_search_num_repeats=1,      │ │
│ │                               │   │   dynamic_search_use_summary=False,  │ │
│ │                               │   │                                      │ │
│ │                               dynamic_search_concurrent_coroutines=16,   │ │
│ │                               │   │   dynamic_search_max_level=2         │ │
│ │                               │   ),                                     │ │
│ │                               │   drift_search=DRIFTSearchConfig(        │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/drift_search_system_promp… │ │
│ │                               │   │                                      │ │
│ │                               reduce_prompt='prompts/drift_search_reduc… │ │
│ │                               │   │   temperature=0,                     │ │
│ │                               │   │   top_p=1,                           │ │
│ │                               │   │   n=3,                               │ │
│ │                               │   │   max_tokens=12000,                  │ │
│ │                               │   │   data_max_tokens=12000,             │ │
│ │                               │   │   reduce_max_tokens=2000,            │ │
│ │                               │   │   reduce_temperature=0,              │ │
│ │                               │   │   concurrency=32,                    │ │
│ │                               │   │   drift_k_followups=20,              │ │
│ │                               │   │   primer_folds=5,                    │ │
│ │                               │   │   primer_llm_max_tokens=12000,       │ │
│ │                               │   │   n_depth=3,                         │ │
│ │                               │   │   local_search_text_unit_prop=0.9,   │ │
│ │                               │   │   local_search_community_prop=0.1,   │ │
│ │                               │   │                                      │ │
│ │                               local_search_top_k_mapped_entities=10,     │ │
│ │                               │   │                                      │ │
│ │                               local_search_top_k_relationships=10,       │ │
│ │                               │   │                                      │ │
│ │                               local_search_max_data_tokens=12000,        │ │
│ │                               │   │   local_search_temperature=0,        │ │
│ │                               │   │   local_search_top_p=1,              │ │
│ │                               │   │   local_search_n=1,                  │ │
│ │                               │   │                                      │ │
│ │                               local_search_llm_max_gen_tokens=2000       │ │
│ │                               │   ),                                     │ │
│ │                               │   basic_search=BasicSearchConfig(        │ │
│ │                               │   │                                      │ │
│ │                               prompt='prompts/basic_search_system_promp… │ │
│ │                               │   │   text_unit_prop=0.5,                │ │
│ │                               │   │   conversation_history_max_turns=5,  │ │
│ │                               │   │   temperature=0,                     │ │
│ │                               │   │   top_p=1,                           │ │
│ │                               │   │   n=1,                               │ │
│ │                               │   │   max_tokens=12000,                  │ │
│ │                               │   │   llm_max_tokens=2000                │ │
│ │                               │   ),                                     │ │
│ │                               │   vector_store={                         │ │
│ │                               │   │   'output': VectorStoreConfig(       │ │
│ │                               │   │   │   type='lancedb',                │ │
│ │                               │   │   │                                  │ │
│ │                               db_uri='/scratch/gpfs/jx0800/data/graphra… │ │
│ │                               │   │   │   url=None,                      │ │
│ │                               │   │   │   api_key=None,                  │ │
│ │                               │   │   │   audience=None,                 │ │
│ │                               │   │   │   container_name='default',      │ │
│ │                               │   │   │   database_name=None,            │ │
│ │                               │   │   │   overwrite=True                 │ │
│ │                               │   │   )                                  │ │
│ │                               │   }                                      │ │
│ │                               )                                          │ │
│ │                  covariates = {'claims': []}                             │ │
│ │        default_llm_settings = LanguageModelConfig(                       │ │
│ │                               │                                          │ │
│ │                               api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6… │ │
│ │                               │   azure_auth_type=None,                  │ │
│ │                               │   type="openai_chat",                    │ │
│ │                               │   model='llama3.2:3b',                   │ │
│ │                               │   encoding_model='cl100k_base',          │ │
│ │                               │   max_tokens=20000,                      │ │
│ │                               │   temperature=0.6,                       │ │
│ │                               │   top_p=0.9,                             │ │
│ │                               │   n=1,                                   │ │
│ │                               │   frequency_penalty=0.0,                 │ │
│ │                               │   presence_penalty=0.0,                  │ │
│ │                               │   request_timeout=180.0,                 │ │
│ │                               │   api_base='http://localhost:11434/v1',  │ │
│ │                               │   api_version=None,                      │ │
│ │                               │   deployment_name=None,                  │ │
│ │                               │   organization=None,                     │ │
│ │                               │   proxy=None,                            │ │
│ │                               │   audience=None,                         │ │
│ │                               │   model_supports_json=True,              │ │
│ │                               │   tokens_per_minute=50000,               │ │
│ │                               │   requests_per_minute=1000,              │ │
│ │                               │   max_retries=10,                        │ │
│ │                               │   max_retry_wait=10.0,                   │ │
│ │                               │                                          │ │
│ │                               sleep_on_rate_limit_recommendation=True,   │ │
│ │                               │   concurrent_requests=25,                │ │
│ │                               │   responses=None,                        │ │
│ │                               │   parallelization_stagger=0.3,           │ │
│ │                               │   parallelization_num_threads=50,        │ │
│ │                               │   async_mode=<AsyncType.Threaded:        │ │
│ │                               'threaded'>                                │ │
│ │                               )                                          │ │
│ │ description_embedding_store = <graphrag.vector_stores.lancedb.LanceDBVe… │ │
│ │                               object at 0x1529db6c0bd0>                  │ │
│ │                    entities = [                                          │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='05e2a376-1b86-4c7d-8188-f0ba77ff466e', │ │
│ │                               │   │   short_id='72',                     │ │
│ │                               │   │   title='LINFORMER',                 │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Linformer is a model  │ │
│ │                               that aims to make transformer neural       │ │
│ │                               networks more efficien'+1,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['1'],               │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               '332527ce3f7779776fcfae343ec912a32806bb50… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='06664b5c-6528-43af-ac46-d3374d70c762', │ │
│ │                               │   │   short_id='38',                     │ │
│ │                               │   │   title='SEARCH ENGINES',            │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Search engines are a  │ │
│ │                               type of application that benefit from      │ │
│ │                               Graph Neural Networks'+64,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['4'],               │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               '826236e9b53b61f612c6be568d84689b52b02eaa… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='093d68c5-5d78-42b6-929c-a086b45c8269', │ │
│ │                               │   │   short_id='49',                     │ │
│ │                               │   │   title='RESNET',                    │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='ResNet is a           │ │
│ │                               convolutional neural network model that    │ │
│ │                               achieved state-of-the-art pe'+48,          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='1090b294-ea12-4b0d-9790-dfbb7ced303f', │ │
│ │                               │   │   short_id='50',                     │ │
│ │                               │   │   title='YOLO',                      │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='YOLO is an object     │ │
│ │                               detection framework that leverages         │ │
│ │                               Convolutional Neural Networ'+49,           │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='20b2e048-f4d4-4fb5-9a3b-304e0681967c', │ │
│ │                               │   │   short_id='30',                     │ │
│ │                               │   │   title='CONVOLUTIONAL NEURAL        │ │
│ │                               NETWORKS',                                 │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Convolutional Neural  │ │
│ │                               Networks are a type of neural network      │ │
│ │                               designed for processi'+483,                │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               '826236e9b53b61f612c6be568d84689b52b02eaa… │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=22,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='21e8a915-d1a5-4c21-a67d-423ab9e9a7c6', │ │
│ │                               │   │   short_id='57',                     │ │
│ │                               │   │   title='GENOMICS',                  │ │
│ │                               │   │   type='GEO',                        │ │
│ │                               │   │   description='Genomics is a field   │ │
│ │                               of study that involves the analysis of     │ │
│ │                               genetic data',                             │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='23e90035-1c2a-4f7c-b3a5-2ce40e787b99', │ │
│ │                               │   │   short_id='62',                     │ │
│ │                               │   │   title='GPU',                       │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='GPU is a type of      │ │
│ │                               hardware used for training Convolutional   │ │
│ │                               Neural Networks',                          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='241d8560-db2f-4b6a-b684-e1f6c0199807', │ │
│ │                               │   │   short_id='6',                      │ │
│ │                               │   │   title='FINANCIAL SERVICES',        │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='Financial services    │ │
│ │                               use machine learning for fraud detection,  │ │
│ │                               credit scoring, and'+20,                   │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['3', '7'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='2ce4d55d-3f44-44d8-aa8c-8fb1478f6d89', │ │
│ │                               │   │   short_id='63',                     │ │
│ │                               │   │   title='TPU',                       │ │
│ │                               │   │   type='ORGANIZATION',               │ │
│ │                               │   │   description='TPU is a type of      │ │
│ │                               hardware used for training Convolutional   │ │
│ │                               Neural Networks',                          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['2', '5'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'bcfc6a23d78c876f7cc226f911e6ce8375526d89… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Entity(                                │ │
│ │                               │   │                                      │ │
│ │                               id='33dce321-f4d6-451b-93a0-facff7bd4cfc', │ │
│ │                               │   │   short_id='2',                      │ │
│ │                               │   │   title='SUPERVISED LEARNING',       │ │
│ │                               │   │   type='EVENT',                      │ │
│ │                               │   │   description='Supervised learning   │ │
│ │                               involves training a model on a labeled     │ │
│ │                               dataset to perform ta'+38,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   name_embedding=None,               │ │
│ │                               │   │   community_ids=['3', '7'],          │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=1,                            │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   ... +68                                │ │
│ │                               ]                                          │ │
│ │                         llm = <graphrag.query.llm.oai.chat_openai.ChatO… │ │
│ │                               object at 0x1529dabe7ed0>                  │ │
│ │               relationships = [                                          │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='30bda342-2449-47b2-ad1d-01db21aeafe3', │ │
│ │                               │   │   short_id='0',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='ARTIFICIAL INTELLIGENCE',  │ │
│ │                               │   │   weight=9.0,                        │ │
│ │                               │   │   description='Machine learning is a │ │
│ │                               subset of artificial intelligence',        │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=30,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='b1d6d5ae-3b60-4297-9642-a721f9c2fb8c', │ │
│ │                               │   │   short_id='1',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='SUPERVISED LEARNING',      │ │
│ │                               │   │   weight=8.0,                        │ │
│ │                               │   │   description='Supervised learning   │ │
│ │                               is a type of machine learning',            │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=29,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='f3089407-a992-4bf2-bf54-a9ce82eddd82', │ │
│ │                               │   │   short_id='2',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='UNSUPERVISED LEARNING',    │ │
│ │                               │   │   weight=8.0,                        │ │
│ │                               │   │   description='Unsupervised learning │ │
│ │                               is a type of machine learning',            │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=30,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='b1ada996-01bd-41fa-9c5e-9023b0e4651e', │ │
│ │                               │   │   short_id='3',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='REINFORCEMENT LEARNING',   │ │
│ │                               │   │   weight=8.0,                        │ │
│ │                               │   │   description='Reinforcement         │ │
│ │                               learning is a type of machine learning',   │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=31,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='596f1d62-9cdd-4aa2-8d11-0cbe2cae39e3', │ │
│ │                               │   │   short_id='4',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='HEALTHCARE',               │ │
│ │                               │   │   weight=6.0,                        │ │
│ │                               │   │   description='Healthcare uses       │ │
│ │                               machine learning for predictive            │ │
│ │                               diagnostics and other tasks',              │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=29,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='24a6b388-f28f-404f-ad0f-8d95d86b9630', │ │
│ │                               │   │   short_id='5',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='FINANCIAL SERVICES',       │ │
│ │                               │   │   weight=6.0,                        │ │
│ │                               │   │   description='Financial services    │ │
│ │                               use machine learning for fraud detection   │ │
│ │                               and other tasks',                          │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=29,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='57f401ad-12ea-485f-bdf4-d3d8fcd00893', │ │
│ │                               │   │   short_id='6',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='E-COMMERCE',               │ │
│ │                               │   │   weight=6.0,                        │ │
│ │                               │   │   description='E-commerce uses       │ │
│ │                               machine learning for recommendation        │ │
│ │                               systems',                                  │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=29,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='ec71b312-e3c1-4a58-a059-96cec847e26e', │ │
│ │                               │   │   short_id='7',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='NATURAL LANGUAGE           │ │
│ │                               PROCESSING',                               │ │
│ │                               │   │   weight=7.0,                        │ │
│ │                               │   │   description='Natural language      │ │
│ │                               processing uses machine learning for       │ │
│ │                               speech recognition and oth'+8,             │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=30,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='250ba8f0-739c-4c08-9f08-dd62ebb46c30', │ │
│ │                               │   │   short_id='8',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='AUTONOMOUS VEHICLES',      │ │
│ │                               │   │   weight=8.0,                        │ │
│ │                               │   │   description='Autonomous vehicles   │ │
│ │                               are powered by machine learning models',   │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=29,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   Relationship(                          │ │
│ │                               │   │                                      │ │
│ │                               id='eca1ad46-a65a-403d-ba80-4b68009cdd73', │ │
│ │                               │   │   short_id='9',                      │ │
│ │                               │   │   source='MACHINE LEARNING',         │ │
│ │                               │   │   target='COMPUTER VISION',          │ │
│ │                               │   │   weight=5.0,                        │ │
│ │                               │   │   description='Computer vision can   │ │
│ │                               be integrated with machine learning to     │ │
│ │                               create more comprehen'+12,                 │ │
│ │                               │   │   description_embedding=None,        │ │
│ │                               │   │   text_unit_ids=[                    │ │
│ │                               │   │   │                                  │ │
│ │                               'e72fce0bdeb62991ec38c3b6cf3aa675f8eabcce… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   rank=31,                           │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   ... +76                                │ │
│ │                               ]                                          │ │
│ │                     reports = [                                          │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='edf604d62cc7486cb9dc1f3b62a1b613',     │ │
│ │                               │   │   short_id='5',                      │ │
│ │                               │   │   title='Artificial Intelligence and │ │
│ │                               Convolutional Neural Networks',            │ │
│ │                               │   │   community_id='5',                  │ │
│ │                               │   │   summary='The community revolves    │ │
│ │                               around Artificial Intelligence and its     │ │
│ │                               subsets, including'+269,                   │ │
│ │                               │   │   full_content='# Artificial         │ │
│ │                               Intelligence and Convolutional Neural      │ │
│ │                               Networks\n\nThe community revol'+2877,     │ │
│ │                               │   │   rank=8.0,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   ),                                     │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='f428381efac24e028b01b86d6dbf1a63',     │ │
│ │                               │   │   short_id='6',                      │ │
│ │                               │   │   title='LeCun and LeNet',           │ │
│ │                               │   │   community_id='6',                  │ │
│ │                               │   │   summary='The community revolves    │ │
│ │                               around LeCun, a researcher who developed   │ │
│ │                               LeNet, a convolu'+206,                     │ │
│ │                               │   │   full_content='# LeCun and          │ │
│ │                               LeNet\n\nThe community revolves around     │ │
│ │                               LeCun, a researcher who develop'+1268,     │ │
│ │                               │   │   rank=8.0,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   ),                                     │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='f6b7e995c6514905a1743e28004cd6c4',     │ │
│ │                               │   │   short_id='7',                      │ │
│ │                               │   │   title='Machine Learning            │ │
│ │                               Community',                                │ │
│ │                               │   │   community_id='7',                  │ │
│ │                               │   │   summary='The Machine Learning      │ │
│ │                               community revolves around the Machine      │ │
│ │                               Learning entity, whic'+243,                │ │
│ │                               │   │   full_content='# Machine Learning   │ │
│ │                               Community\n\nThe Machine Learning          │ │
│ │                               community revolves around the'+2686,       │ │
│ │                               │   │   rank=8.0,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   ),                                     │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='255e5acc15d84fa7b72aa2a62f3d1106',     │ │
│ │                               │   │   short_id='8',                      │ │
│ │                               │   │   title='FRAUD DETECTION and RISK    │ │
│ │                               ASSESSMENT Community',                     │ │
│ │                               │   │   community_id='8',                  │ │
│ │                               │   │   summary='The community revolves    │ │
│ │                               around FRAUD DETECTION and RISK            │ │
│ │                               ASSESSMENT, which are rel'+217,            │ │
│ │                               │   │   full_content='# FRAUD DETECTION    │ │
│ │                               and RISK ASSESSMENT Community\n\nThe       │ │
│ │                               community revolves around F'+1826,         │ │
│ │                               │   │   rank=6.0,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   ),                                     │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='0a68b27dcf2c48568c408cd4fdb36ff2',     │ │
│ │                               │   │   short_id='0',                      │ │
│ │                               │   │   title='Graph Neural Networks and   │ │
│ │                               AI',                                       │ │
│ │                               │   │   community_id='0',                  │ │
│ │                               │   │   summary='The community revolves    │ │
│ │                               around Graph Neural Networks, which are a  │ │
│ │                               class of machin'+367,                      │ │
│ │                               │   │   full_content='# Graph Neural       │ │
│ │                               Networks and AI\n\nThe community revolves  │ │
│ │                               around Graph Neural Netwo'+2563,           │ │
│ │                               │   │   rank=8.0,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   ),                                     │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='87ab2281a26f4425a4fa5ef7d6ff90e7',     │ │
│ │                               │   │   short_id='1',                      │ │
│ │                               │   │   title='Transformer Neural Networks │ │
│ │                               and Related Entities',                     │ │
│ │                               │   │   community_id='1',                  │ │
│ │                               │   │   summary='The community revolves    │ │
│ │                               around Transformer Neural Networks, which  │ │
│ │                               is a type of de'+502,                      │ │
│ │                               │   │   full_content='# Transformer Neural │ │
│ │                               Networks and Related Entities\n\nThe       │ │
│ │                               community revolves aroun'+3087,            │ │
│ │                               │   │   rank=8.0,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   ),                                     │ │
│ │                               │   CommunityReport(                       │ │
│ │                               │   │                                      │ │
│ │                               id='e535ae20b1324dba8a7917d85ebb1ca6',     │ │
│ │                               │   │   short_id='4',                      │ │
│ │                               │   │   title='RECOMMENDATION SYSTEMS,     │ │
│ │                               KNOWLEDGE GRAPHS, and SEARCH ENGINES',     │ │
│ │                               │   │   community_id='4',                  │ │
│ │                               │   │   summary='The community revolves    │ │
│ │                               around RECOMMENDATION SYSTEMS, KNOWLEDGE   │ │
│ │                               GRAPHS, and SEAR'+269,                     │ │
│ │                               │   │   full_content='# RECOMMENDATION     │ │
│ │                               SYSTEMS, KNOWLEDGE GRAPHS, and SEARCH      │ │
│ │                               ENGINES\n\nThe community re'+2271,         │ │
│ │                               │   │   rank=6.5,                          │ │
│ │                               │   │   full_content_embedding=None,       │ │
│ │                               │   │   attributes=None,                   │ │
│ │                               │   │   size=None,                         │ │
│ │                               │   │   period=None                        │ │
│ │                               │   )                                      │ │
│ │                               ]                                          │ │
│ │               response_type = 'Multiple Paragraphs'                      │ │
│ │               system_prompt = '\n---Role---\n\nYou are a helpful         │ │
│ │                               assistant responding to questions about    │ │
│ │                               data in t'+2471                            │ │
│ │                  text_units = [                                          │ │
│ │                               │   TextUnit(                              │ │
│ │                               │   │                                      │ │
│ │                               id='e72fce0bdeb62991ec38c3b6cf3aa675f8eab… │ │
│ │                               │   │   short_id='0',                      │ │
│ │                               │   │   text='Introduction to Machine      │ │
│ │                               Learning\nMachine learning (ML) is a       │ │
│ │                               subset of artificial'+4134,                │ │
│ │                               │   │   entity_ids=[                       │ │
│ │                               │   │   │                                  │ │
│ │                               '361d38e8-a81c-43bf-a292-0cf59164fcfe',    │ │
│ │                               │   │   │                                  │ │
│ │                               '5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d',    │ │
│ │                               │   │   │                                  │ │
│ │                               '33dce321-f4d6-451b-93a0-facff7bd4cfc',    │ │
│ │                               │   │   │                                  │ │
│ │                               '90a196a9-af02-4818-8d48-31dd069776e9',    │ │
│ │                               │   │   │                                  │ │
│ │                               '69d3cde4-21d5-4aa7-b499-52ceffabb3fd',    │ │
│ │                               │   │   │                                  │ │
│ │                               'bc9d3b7e-17b5-4108-892d-c3f8553e5153',    │ │
│ │                               │   │   │                                  │ │
│ │                               '241d8560-db2f-4b6a-b684-e1f6c0199807',    │ │
│ │                               │   │   │                                  │ │
│ │                               '907da41f-ce07-4ee0-a281-7270bb7121fc',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b7389ef9-52c5-4926-b9d1-a3d8319fd478',    │ │
│ │                               │   │   │                                  │ │
│ │                               '7a93ec81-e699-4462-bf34-8eb607972f92',    │ │
│ │                               │   │   │   ... +16                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   relationship_ids=[                 │ │
│ │                               │   │   │                                  │ │
│ │                               '30bda342-2449-47b2-ad1d-01db21aeafe3',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b1d6d5ae-3b60-4297-9642-a721f9c2fb8c',    │ │
│ │                               │   │   │                                  │ │
│ │                               'f3089407-a992-4bf2-bf54-a9ce82eddd82',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b1ada996-01bd-41fa-9c5e-9023b0e4651e',    │ │
│ │                               │   │   │                                  │ │
│ │                               '596f1d62-9cdd-4aa2-8d11-0cbe2cae39e3',    │ │
│ │                               │   │   │                                  │ │
│ │                               '24a6b388-f28f-404f-ad0f-8d95d86b9630',    │ │
│ │                               │   │   │                                  │ │
│ │                               '57f401ad-12ea-485f-bdf4-d3d8fcd00893',    │ │
│ │                               │   │   │                                  │ │
│ │                               'ec71b312-e3c1-4a58-a059-96cec847e26e',    │ │
│ │                               │   │   │                                  │ │
│ │                               '250ba8f0-739c-4c08-9f08-dd62ebb46c30',    │ │
│ │                               │   │   │                                  │ │
│ │                               'eca1ad46-a65a-403d-ba80-4b68009cdd73',    │ │
│ │                               │   │   │   ... +15                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   covariate_ids=None,                │ │
│ │                               │   │   n_tokens=701,                      │ │
│ │                               │   │   document_ids=[                     │ │
│ │                               │   │   │                                  │ │
│ │                               '60fc9c195dd446cea71026da21b6a6a4741d6bba… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   TextUnit(                              │ │
│ │                               │   │                                      │ │
│ │                               id='826236e9b53b61f612c6be568d84689b52b02… │ │
│ │                               │   │   short_id='1',                      │ │
│ │                               │   │   text='Introduction to Graph Neural │ │
│ │                               Networks\nGraph Neural Networks (GNNs) are │ │
│ │                               a class o'+4756,                           │ │
│ │                               │   │   entity_ids=[                       │ │
│ │                               │   │   │                                  │ │
│ │                               '361d38e8-a81c-43bf-a292-0cf59164fcfe',    │ │
│ │                               │   │   │                                  │ │
│ │                               '4346ba33-816f-456f-8af9-8aab795d426d',    │ │
│ │                               │   │   │                                  │ │
│ │                               '8ad4ed21-5ce5-4306-8ff4-a8262165714c',    │ │
│ │                               │   │   │                                  │ │
│ │                               'c0797e97-319c-42a0-a983-661b812430b7',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b12879f1-c242-4649-926b-75382e386e44',    │ │
│ │                               │   │   │                                  │ │
│ │                               '9815e09c-cb1a-454f-9d55-078f18326720',    │ │
│ │                               │   │   │                                  │ │
│ │                               '998b8cc5-1626-43cc-8ad0-8abd46c3710b',    │ │
│ │                               │   │   │                                  │ │
│ │                               '386cb936-47b5-44e6-ad5c-c5bd676336f9',    │ │
│ │                               │   │   │                                  │ │
│ │                               '20b2e048-f4d4-4fb5-9a3b-304e0681967c',    │ │
│ │                               │   │   │                                  │ │
│ │                               'a968fa07-9e72-4c00-96d5-27e9b6bfb5ed',    │ │
│ │                               │   │   │   ... +14                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   relationship_ids=[                 │ │
│ │                               │   │   │                                  │ │
│ │                               '4afb894f-4bbb-40f1-8611-670ef3325b4f',    │ │
│ │                               │   │   │                                  │ │
│ │                               '25510054-4cc8-4ea8-a70a-278647548c6c',    │ │
│ │                               │   │   │                                  │ │
│ │                               '7309ed03-607a-472b-8616-745710547c72',    │ │
│ │                               │   │   │                                  │ │
│ │                               '2c4206b9-1b9b-4c89-a26d-ccd8a8e26b45',    │ │
│ │                               │   │   │                                  │ │
│ │                               '72e84ca6-eed3-4868-bc05-4a48e97d50c7',    │ │
│ │                               │   │   │                                  │ │
│ │                               '1bb5e379-048a-4f64-ab53-778efe009772',    │ │
│ │                               │   │   │                                  │ │
│ │                               'ca04b2fb-49b5-46f7-8dee-d6976a9b2530',    │ │
│ │                               │   │   │                                  │ │
│ │                               'ea49d4f0-8881-4b75-bf3e-d7f1cdb78784',    │ │
│ │                               │   │   │                                  │ │
│ │                               'd9530595-1afb-44cb-a193-f02080af5570',    │ │
│ │                               │   │   │                                  │ │
│ │                               '96d5b047-e240-4211-8c05-bd5cc6066f47',    │ │
│ │                               │   │   │   ... +11                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   covariate_ids=None,                │ │
│ │                               │   │   n_tokens=849,                      │ │
│ │                               │   │   document_ids=[                     │ │
│ │                               │   │   │                                  │ │
│ │                               '88eb9b650c09283b91b10a3bc047224790471845… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   TextUnit(                              │ │
│ │                               │   │                                      │ │
│ │                               id='bcfc6a23d78c876f7cc226f911e6ce8375526… │ │
│ │                               │   │   short_id='2',                      │ │
│ │                               │   │   text='Introduction to              │ │
│ │                               Convolutional Neural                       │ │
│ │                               Networks\nConvolutional Neural Networks    │ │
│ │                               (CNN'+5184,                                │ │
│ │                               │   │   entity_ids=[                       │ │
│ │                               │   │   │                                  │ │
│ │                               '361d38e8-a81c-43bf-a292-0cf59164fcfe',    │ │
│ │                               │   │   │                                  │ │
│ │                               '5a3fa688-2b88-4184-b7bf-0dafb6d6fe0d',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b7389ef9-52c5-4926-b9d1-a3d8319fd478',    │ │
│ │                               │   │   │                                  │ │
│ │                               '62ca4f0d-483c-47c3-a720-c43fca224ec6',    │ │
│ │                               │   │   │                                  │ │
│ │                               '20b2e048-f4d4-4fb5-9a3b-304e0681967c',    │ │
│ │                               │   │   │                                  │ │
│ │                               '5f586373-f0e8-4ffe-b93a-a642dd2c89c8',    │ │
│ │                               │   │   │                                  │ │
│ │                               '7152b37d-f7d3-4492-ab35-4d0bc0f72696',    │ │
│ │                               │   │   │                                  │ │
│ │                               'da2dd046-a5cb-474a-b187-be9eb359bad0',    │ │
│ │                               │   │   │                                  │ │
│ │                               '093d68c5-5d78-42b6-929c-a086b45c8269',    │ │
│ │                               │   │   │                                  │ │
│ │                               '1090b294-ea12-4b0d-9790-dfbb7ced303f',    │ │
│ │                               │   │   │   ... +13                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   relationship_ids=[                 │ │
│ │                               │   │   │                                  │ │
│ │                               '7c8977e4-ad87-4db9-b790-edfd3bd9dd3a',    │ │
│ │                               │   │   │                                  │ │
│ │                               '224194ae-87e4-4cd4-a900-e0ada5a15cf4',    │ │
│ │                               │   │   │                                  │ │
│ │                               'db098355-5248-4bb1-bde1-b5a05171fa70',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b6351b6a-505a-454f-bdf4-616ed477c91e',    │ │
│ │                               │   │   │                                  │ │
│ │                               'd10bc45d-2c25-4018-8463-c543cb8bc0bb',    │ │
│ │                               │   │   │                                  │ │
│ │                               '2dd0bb02-ec48-4853-91af-31741de96162',    │ │
│ │                               │   │   │                                  │ │
│ │                               '69f3d0de-f171-469d-ae34-7cc15c319de7',    │ │
│ │                               │   │   │                                  │ │
│ │                               '20c391a7-4895-414c-840e-1220637f6f42',    │ │
│ │                               │   │   │                                  │ │
│ │                               'ac422ad0-0b4a-48ec-a0d0-2a566b340d70',    │ │
│ │                               │   │   │                                  │ │
│ │                               '834f48dc-e41c-4a07-a101-1c6b835da9f3',    │ │
│ │                               │   │   │   ... +12                        │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   covariate_ids=None,                │ │
│ │                               │   │   n_tokens=926,                      │ │
│ │                               │   │   document_ids=[                     │ │
│ │                               │   │   │                                  │ │
│ │                               '9e68811b4cd4f15f8ecc47c135b57630624ac521… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   ),                                     │ │
│ │                               │   TextUnit(                              │ │
│ │                               │   │                                      │ │
│ │                               id='332527ce3f7779776fcfae343ec912a32806b… │ │
│ │                               │   │   short_id='3',                      │ │
│ │                               │   │   text='Introduction to Transformer  │ │
│ │                               Neural Networks\nTransformer neural        │ │
│ │                               networks represen'+4811,                   │ │
│ │                               │   │   entity_ids=[                       │ │
│ │                               │   │   │                                  │ │
│ │                               '69d3cde4-21d5-4aa7-b499-52ceffabb3fd',    │ │
│ │                               │   │   │                                  │ │
│ │                               '63b2f309-cdec-4a74-9b3c-de221eafced6',    │ │
│ │                               │   │   │                                  │ │
│ │                               'b7ff2d02-8c5b-48e8-8855-4f5574ea812c',    │ │
│ │                               │   │   │                                  │ │
│ │                               '3ec0db7a-2838-49c6-ace2-d286ddd98ca7',    │ │
│ │                               │   │   │                                  │ │
│ │                               '639d4dfe-6999-4043-a304-b2491e0c1dcb',    │ │
│ │                               │   │   │                                  │ │
│ │                               'f2dfdb3c-259b-4907-a63c-4063556f1120',    │ │
│ │                               │   │   │                                  │ │
│ │                               'ca48ca77-82aa-4c33-a92f-4b1cca84f95f',    │ │
│ │                               │   │   │                                  │ │
│ │                               'd30e62f9-87de-4e7f-acba-cd48cb46e6d0',    │ │
│ │                               │   │   │                                  │ │
│ │                               'e039d8b6-cbb7-42e6-8bf7-a3586c0be499',    │ │
│ │                               │   │   │                                  │ │
│ │                               '8f95765b-d8fa-4264-8857-a8834589ea48',    │ │
│ │                               │   │   │   ... +6                         │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   relationship_ids=[                 │ │
│ │                               │   │   │                                  │ │
│ │                               'aa46818b-6b8a-43ec-8e63-2a29b0a1fbc0',    │ │
│ │                               │   │   │                                  │ │
│ │                               '3c85ae8b-ad50-4aa6-97c6-24becc8161d6',    │ │
│ │                               │   │   │                                  │ │
│ │                               'df99e7e9-8639-4623-9758-ab115f89e6e2',    │ │
│ │                               │   │   │                                  │ │
│ │                               'c0c64ac3-185a-46fd-a4dd-5846a0cc3c1f',    │ │
│ │                               │   │   │                                  │ │
│ │                               'a4afc374-4868-4c66-890a-d06ab87913d7',    │ │
│ │                               │   │   │                                  │ │
│ │                               '9d788df7-206a-448c-be21-537b87241cb5',    │ │
│ │                               │   │   │                                  │ │
│ │                               '8e6630b6-871c-4d5c-868c-77ff420b5ca6',    │ │
│ │                               │   │   │                                  │ │
│ │                               '0f736673-1f45-4582-8f0f-f68dd1c83c9c',    │ │
│ │                               │   │   │                                  │ │
│ │                               'df6a61c7-7d4a-4b44-b116-c26ae18e15cc',    │ │
│ │                               │   │   │                                  │ │
│ │                               '8356e5f7-bdf8-4fdb-9c63-c48a90a8eede',    │ │
│ │                               │   │   │   ... +8                         │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   covariate_ids=None,                │ │
│ │                               │   │   n_tokens=819,                      │ │
│ │                               │   │   document_ids=[                     │ │
│ │                               │   │   │                                  │ │
│ │                               'deffe383fea4e5e43d969b23593899dfe4ee8f45… │ │
│ │                               │   │   ],                                 │ │
│ │                               │   │   attributes=None                    │ │
│ │                               │   )                                      │ │
│ │                               ]                                          │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/graphrag/graphrag/query/llm/get_client.py:64 in                 │
│ get_text_embedder                                                            │
│                                                                              │
│   61 │   else:                                                               │
│   62 │   │   audience = embeddings_llm_settings.audience                     │
│   63 │   print(f"creating embedding llm client with {llm_debug_info}")  # no │
│ ❱ 64 │   return OpenAIEmbedding(                                             │
│   65 │   │   api_key=embeddings_llm_settings.api_key,                        │
│   66 │   │   azure_ad_token_provider=(                                       │
│   67 │   │   │   get_bearer_token_provider(DefaultAzureCredential(), audienc │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │                audience = 'https://cognitiveservices.azure.com/.default' │ │
│ │                  config = GraphRagConfig(                                │ │
│ │                           │                                              │ │
│ │                           root_dir='/scratch/gpfs/jx0800/data/graphrag', │ │
│ │                           │   models={                                   │ │
│ │                           │   │   'default_chat_model':                  │ │
│ │                           LanguageModelConfig(                           │ │
│ │                           │   │   │                                      │ │
│ │                           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJW… │ │
│ │                           │   │   │   azure_auth_type=None,              │ │
│ │                           │   │   │   type="openai_chat",                │ │
│ │                           │   │   │   model='llama3.2:3b',               │ │
│ │                           │   │   │   encoding_model='cl100k_base',      │ │
│ │                           │   │   │   max_tokens=20000,                  │ │
│ │                           │   │   │   temperature=0.6,                   │ │
│ │                           │   │   │   top_p=0.9,                         │ │
│ │                           │   │   │   n=1,                               │ │
│ │                           │   │   │   frequency_penalty=0.0,             │ │
│ │                           │   │   │   presence_penalty=0.0,              │ │
│ │                           │   │   │   request_timeout=180.0,             │ │
│ │                           │   │   │                                      │ │
│ │                           api_base='http://localhost:11434/v1',          │ │
│ │                           │   │   │   api_version=None,                  │ │
│ │                           │   │   │   deployment_name=None,              │ │
│ │                           │   │   │   organization=None,                 │ │
│ │                           │   │   │   proxy=None,                        │ │
│ │                           │   │   │   audience=None,                     │ │
│ │                           │   │   │   model_supports_json=True,          │ │
│ │                           │   │   │   tokens_per_minute=50000,           │ │
│ │                           │   │   │   requests_per_minute=1000,          │ │
│ │                           │   │   │   max_retries=10,                    │ │
│ │                           │   │   │   max_retry_wait=10.0,               │ │
│ │                           │   │   │                                      │ │
│ │                           sleep_on_rate_limit_recommendation=True,       │ │
│ │                           │   │   │   concurrent_requests=25,            │ │
│ │                           │   │   │   responses=None,                    │ │
│ │                           │   │   │   parallelization_stagger=0.3,       │ │
│ │                           │   │   │   parallelization_num_threads=50,    │ │
│ │                           │   │   │   async_mode=<AsyncType.Threaded:    │ │
│ │                           'threaded'>                                    │ │
│ │                           │   │   ),                                     │ │
│ │                           │   │   'default_embedding_model':             │ │
│ │                           LanguageModelConfig(                           │ │
│ │                           │   │   │                                      │ │
│ │                           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJW… │ │
│ │                           │   │   │   azure_auth_type=None,              │ │
│ │                           │   │   │   type="openai_embedding",           │ │
│ │                           │   │   │   model='nomic-embed-text',          │ │
│ │                           │   │   │   encoding_model='cl100k_base',      │ │
│ │                           │   │   │   max_tokens=20000,                  │ │
│ │                           │   │   │   temperature=0.6,                   │ │
│ │                           │   │   │   top_p=0.9,                         │ │
│ │                           │   │   │   n=1,                               │ │
│ │                           │   │   │   frequency_penalty=0.0,             │ │
│ │                           │   │   │   presence_penalty=0.0,              │ │
│ │                           │   │   │   request_timeout=180.0,             │ │
│ │                           │   │   │                                      │ │
│ │                           api_base='http://localhost:11434/api',         │ │
│ │                           │   │   │   api_version=None,                  │ │
│ │                           │   │   │   deployment_name=None,              │ │
│ │                           │   │   │   organization=None,                 │ │
│ │                           │   │   │   proxy=None,                        │ │
│ │                           │   │   │   audience=None,                     │ │
│ │                           │   │   │   model_supports_json=None,          │ │
│ │                           │   │   │   tokens_per_minute=50000,           │ │
│ │                           │   │   │   requests_per_minute=1000,          │ │
│ │                           │   │   │   max_retries=10,                    │ │
│ │                           │   │   │   max_retry_wait=10.0,               │ │
│ │                           │   │   │                                      │ │
│ │                           sleep_on_rate_limit_recommendation=True,       │ │
│ │                           │   │   │   concurrent_requests=25,            │ │
│ │                           │   │   │   responses=None,                    │ │
│ │                           │   │   │   parallelization_stagger=0.3,       │ │
│ │                           │   │   │   parallelization_num_threads=50,    │ │
│ │                           │   │   │   async_mode=<AsyncType.Threaded:    │ │
│ │                           'threaded'>                                    │ │
│ │                           │   │   )                                      │ │
│ │                           │   },                                         │ │
│ │                           │   reporting=ReportingConfig(                 │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │                                          │ │
│ │                           base_dir='/scratch/gpfs/jx0800/data/graphrag/… │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   storage_account_blob_url=None          │ │
│ │                           │   ),                                         │ │
│ │                           │   output=OutputConfig(                       │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │                                          │ │
│ │                           base_dir='/scratch/gpfs/jx0800/data/graphrag/… │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   storage_account_blob_url=None,         │ │
│ │                           │   │   cosmosdb_account_url=None              │ │
│ │                           │   ),                                         │ │
│ │                           │   update_index_output=None,                  │ │
│ │                           │   cache=CacheConfig(                         │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │   base_dir='cache',                      │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   storage_account_blob_url=None,         │ │
│ │                           │   │   cosmosdb_account_url=None              │ │
│ │                           │   ),                                         │ │
│ │                           │   input=InputConfig(                         │ │
│ │                           │   │   type="file",                           │ │
│ │                           │   │   file_type="text",                      │ │
│ │                           │   │   base_dir='input',                      │ │
│ │                           │   │   connection_string=None,                │ │
│ │                           │   │   storage_account_blob_url=None,         │ │
│ │                           │   │   container_name=None,                   │ │
│ │                           │   │   encoding='utf-8',                      │ │
│ │                           │   │   file_pattern='.*\\.txt$',              │ │
│ │                           │   │   file_filter=None,                      │ │
│ │                           │   │   source_column=None,                    │ │
│ │                           │   │   timestamp_column=None,                 │ │
│ │                           │   │   timestamp_format=None,                 │ │
│ │                           │   │   text_column='text',                    │ │
│ │                           │   │   title_column=None,                     │ │
│ │                           │   │   document_attribute_columns=[]          │ │
│ │                           │   ),                                         │ │
│ │                           │   embed_graph=EmbedGraphConfig(              │ │
│ │                           │   │   enabled=False,                         │ │
│ │                           │   │   dimensions=1536,                       │ │
│ │                           │   │   num_walks=10,                          │ │
│ │                           │   │   walk_length=40,                        │ │
│ │                           │   │   window_size=2,                         │ │
│ │                           │   │   iterations=3,                          │ │
│ │                           │   │   random_seed=597832,                    │ │
│ │                           │   │   use_lcc=True                           │ │
│ │                           │   ),                                         │ │
│ │                           │   embeddings=TextEmbeddingConfig(            │ │
│ │                           │   │   batch_size=16,                         │ │
│ │                           │   │   batch_max_tokens=8191,                 │ │
│ │                           │   │   target="required",                     │ │
│ │                           │   │   names=[],                              │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   model_id='default_embedding_model'     │ │
│ │                           │   ),                                         │ │
│ │                           │   chunks=ChunkingConfig(                     │ │
│ │                           │   │   size=1200,                             │ │
│ │                           │   │   overlap=100,                           │ │
│ │                           │   │   group_by_columns=['id'],               │ │
│ │                           │   │   strategy="tokens",                     │ │
│ │                           │   │   encoding_model='cl100k_base'           │ │
│ │                           │   ),                                         │ │
│ │                           │   snapshots=SnapshotsConfig(                 │ │
│ │                           │   │   embeddings=False,                      │ │
│ │                           │   │   graphml=False,                         │ │
│ │                           │   │   transient=False                        │ │
│ │                           │   ),                                         │ │
│ │                           │   entity_extraction=EntityExtractionConfig(  │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/entity_extraction.txt',        │ │
│ │                           │   │   entity_types=[                         │ │
│ │                           │   │   │   'organization',                    │ │
│ │                           │   │   │   'person',                          │ │
│ │                           │   │   │   'geo',                             │ │
│ │                           │   │   │   'event'                            │ │
│ │                           │   │   ],                                     │ │
│ │                           │   │   max_gleanings=1,                       │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   encoding_model=None,                   │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │                                              │ │
│ │                           summarize_descriptions=SummarizeDescriptionsC… │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/summarize_descriptions.txt',   │ │
│ │                           │   │   max_length=500,                        │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │   community_reports=CommunityReportsConfig(  │ │
│ │                           │   │   prompt='prompts/community_report.txt', │ │
│ │                           │   │   max_length=2000,                       │ │
│ │                           │   │   max_input_length=8000,                 │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │   claim_extraction=ClaimExtractionConfig(    │ │
│ │                           │   │   enabled=False,                         │ │
│ │                           │   │   prompt='prompts/claim_extraction.txt', │ │
│ │                           │   │   description='Any claims or facts that  │ │
│ │                           could be relevant to information discovery.',  │ │
│ │                           │   │   max_gleanings=1,                       │ │
│ │                           │   │   strategy=None,                         │ │
│ │                           │   │   encoding_model=None,                   │ │
│ │                           │   │   model_id='default_chat_model'          │ │
│ │                           │   ),                                         │ │
│ │                           │   cluster_graph=ClusterGraphConfig(          │ │
│ │                           │   │   max_cluster_size=10,                   │ │
│ │                           │   │   use_lcc=True,                          │ │
│ │                           │   │   seed=3735928559                        │ │
│ │                           │   ),                                         │ │
│ │                           │   umap=UmapConfig(enabled=False),            │ │
│ │                           │   local_search=LocalSearchConfig(            │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/local_search_system_prompt.tx… │ │
│ │                           │   │   text_unit_prop=0.5,                    │ │
│ │                           │   │   community_prop=0.15,                   │ │
│ │                           │   │   conversation_history_max_turns=5,      │ │
│ │                           │   │   top_k_entities=10,                     │ │
│ │                           │   │   top_k_relationships=10,                │ │
│ │                           │   │   temperature=0.6,                       │ │
│ │                           │   │   top_p=0.9,                             │ │
│ │                           │   │   n=1,                                   │ │
│ │                           │   │   max_tokens=20000,                      │ │
│ │                           │   │   llm_max_tokens=20000                   │ │
│ │                           │   ),                                         │ │
│ │                           │   global_search=GlobalSearchConfig(          │ │
│ │                           │   │                                          │ │
│ │                           map_prompt='prompts/global_search_map_system_… │ │
│ │                           │   │                                          │ │
│ │                           reduce_prompt='prompts/global_search_reduce_s… │ │
│ │                           │   │                                          │ │
│ │                           knowledge_prompt='prompts/global_search_knowl… │ │
│ │                           │   │   temperature=0,                         │ │
│ │                           │   │   top_p=1,                               │ │
│ │                           │   │   n=1,                                   │ │
│ │                           │   │   max_tokens=12000,                      │ │
│ │                           │   │   data_max_tokens=12000,                 │ │
│ │                           │   │   map_max_tokens=1000,                   │ │
│ │                           │   │   reduce_max_tokens=2000,                │ │
│ │                           │   │   concurrency=32,                        │ │
│ │                           │   │   dynamic_search_llm='gpt-4o-mini',      │ │
│ │                           │   │   dynamic_search_threshold=1,            │ │
│ │                           │   │   dynamic_search_keep_parent=False,      │ │
│ │                           │   │   dynamic_search_num_repeats=1,          │ │
│ │                           │   │   dynamic_search_use_summary=False,      │ │
│ │                           │   │                                          │ │
│ │                           dynamic_search_concurrent_coroutines=16,       │ │
│ │                           │   │   dynamic_search_max_level=2             │ │
│ │                           │   ),                                         │ │
│ │                           │   drift_search=DRIFTSearchConfig(            │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/drift_search_system_prompt.tx… │ │
│ │                           │   │                                          │ │
│ │                           reduce_prompt='prompts/drift_search_reduce_pr… │ │
│ │                           │   │   temperature=0,                         │ │
│ │                           │   │   top_p=1,                               │ │
│ │                           │   │   n=3,                                   │ │
│ │                           │   │   max_tokens=12000,                      │ │
│ │                           │   │   data_max_tokens=12000,                 │ │
│ │                           │   │   reduce_max_tokens=2000,                │ │
│ │                           │   │   reduce_temperature=0,                  │ │
│ │                           │   │   concurrency=32,                        │ │
│ │                           │   │   drift_k_followups=20,                  │ │
│ │                           │   │   primer_folds=5,                        │ │
│ │                           │   │   primer_llm_max_tokens=12000,           │ │
│ │                           │   │   n_depth=3,                             │ │
│ │                           │   │   local_search_text_unit_prop=0.9,       │ │
│ │                           │   │   local_search_community_prop=0.1,       │ │
│ │                           │   │   local_search_top_k_mapped_entities=10, │ │
│ │                           │   │   local_search_top_k_relationships=10,   │ │
│ │                           │   │   local_search_max_data_tokens=12000,    │ │
│ │                           │   │   local_search_temperature=0,            │ │
│ │                           │   │   local_search_top_p=1,                  │ │
│ │                           │   │   local_search_n=1,                      │ │
│ │                           │   │   local_search_llm_max_gen_tokens=2000   │ │
│ │                           │   ),                                         │ │
│ │                           │   basic_search=BasicSearchConfig(            │ │
│ │                           │   │                                          │ │
│ │                           prompt='prompts/basic_search_system_prompt.tx… │ │
│ │                           │   │   text_unit_prop=0.5,                    │ │
│ │                           │   │   conversation_history_max_turns=5,      │ │
│ │                           │   │   temperature=0,                         │ │
│ │                           │   │   top_p=1,                               │ │
│ │                           │   │   n=1,                                   │ │
│ │                           │   │   max_tokens=12000,                      │ │
│ │                           │   │   llm_max_tokens=2000                    │ │
│ │                           │   ),                                         │ │
│ │                           │   vector_store={                             │ │
│ │                           │   │   'output': VectorStoreConfig(           │ │
│ │                           │   │   │   type='lancedb',                    │ │
│ │                           │   │   │                                      │ │
│ │                           db_uri='/scratch/gpfs/jx0800/data/graphrag/ou… │ │
│ │                           │   │   │   url=None,                          │ │
│ │                           │   │   │   api_key=None,                      │ │
│ │                           │   │   │   audience=None,                     │ │
│ │                           │   │   │   container_name='default',          │ │
│ │                           │   │   │   database_name=None,                │ │
│ │                           │   │   │   overwrite=True                     │ │
│ │                           │   │   )                                      │ │
│ │                           │   }                                          │ │
│ │                           )                                              │ │
│ │ debug_embedding_api_key = 'eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJWd1h0dnpr… │ │
│ │ embeddings_llm_settings = LanguageModelConfig(                           │ │
│ │                           │                                              │ │
│ │                           api_key='eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJW… │ │
│ │                           │   azure_auth_type=None,                      │ │
│ │                           │   type="openai_embedding",                   │ │
│ │                           │   model='nomic-embed-text',                  │ │
│ │                           │   encoding_model='cl100k_base',              │ │
│ │                           │   max_tokens=20000,                          │ │
│ │                           │   temperature=0.6,                           │ │
│ │                           │   top_p=0.9,                                 │ │
│ │                           │   n=1,                                       │ │
│ │                           │   frequency_penalty=0.0,                     │ │
│ │                           │   presence_penalty=0.0,                      │ │
│ │                           │   request_timeout=180.0,                     │ │
│ │                           │   api_base='http://localhost:11434/api',     │ │
│ │                           │   api_version=None,                          │ │
│ │                           │   deployment_name=None,                      │ │
│ │                           │   organization=None,                         │ │
│ │                           │   proxy=None,                                │ │
│ │                           │   audience=None,                             │ │
│ │                           │   model_supports_json=None,                  │ │
│ │                           │   tokens_per_minute=50000,                   │ │
│ │                           │   requests_per_minute=1000,                  │ │
│ │                           │   max_retries=10,                            │ │
│ │                           │   max_retry_wait=10.0,                       │ │
│ │                           │   sleep_on_rate_limit_recommendation=True,   │ │
│ │                           │   concurrent_requests=25,                    │ │
│ │                           │   responses=None,                            │ │
│ │                           │   parallelization_stagger=0.3,               │ │
│ │                           │   parallelization_num_threads=50,            │ │
│ │                           │   async_mode=<AsyncType.Threaded:            │ │
│ │                           'threaded'>                                    │ │
│ │                           )                                              │ │
│ │         is_azure_client = False                                          │ │
│ │          llm_debug_info = {                                              │ │
│ │                           │   'api_key': 'REDACTED,len=515',             │ │
│ │                           │   'azure_auth_type': None,                   │ │
│ │                           │   'type': "openai_embedding",                │ │
│ │                           │   'model': 'nomic-embed-text',               │ │
│ │                           │   'encoding_model': 'cl100k_base',           │ │
│ │                           │   'max_tokens': 20000,                       │ │
│ │                           │   'temperature': 0.6,                        │ │
│ │                           │   'top_p': 0.9,                              │ │
│ │                           │   'n': 1,                                    │ │
│ │                           │   'frequency_penalty': 0.0,                  │ │
│ │                           │   ... +19                                    │ │
│ │                           }                                              │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/graphrag/graphrag/query/llm/oai/embedding.py:69 in __init__     │
│                                                                              │
│    66 │   │   self.model = model                                             │
│    67 │   │   self.encoding_name = encoding_name                             │
│    68 │   │   self.max_tokens = max_tokens                                   │
│ ❱  69 │   │   self.token_encoder = tiktoken.get_encoding(self.encoding_name) │
│    70 │   │   self.retry_error_types = retry_error_types                     │
│    71 │                                                                      │
│    72 │   def embed(self, text: str, **kwargs: Any) -> list[float]:          │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │                api_base = 'http://localhost:11434/api'                   │ │
│ │                 api_key = 'eyJhbGciOiJIUzI1NiIsImtpZCI6IlV6SXJWd1h0dnpr… │ │
│ │                api_type = <OpenaiApiType.OpenAI: 'openai'>               │ │
│ │             api_version = None                                           │ │
│ │ azure_ad_token_provider = None                                           │ │
│ │         deployment_name = None                                           │ │
│ │           encoding_name = 'cl100k_base'                                  │ │
│ │                  logger = None                                           │ │
│ │             max_retries = 10                                             │ │
│ │              max_tokens = 8191                                           │ │
│ │                   model = 'nomic-embed-text'                             │ │
│ │            organization = None                                           │ │
│ │         request_timeout = 180.0                                          │ │
│ │       retry_error_types = (                                              │ │
│ │                           │   <class 'openai.RateLimitError'>,           │ │
│ │                           │   <class 'openai.APIConnectionError'>,       │ │
│ │                           │   <class 'openai.APIError'>,                 │ │
│ │                           │   <class 'httpx.RemoteProtocolError'>,       │ │
│ │                           │   <class 'httpx.ReadTimeout'>                │ │
│ │                           )                                              │ │
│ │                    self = <graphrag.query.llm.oai.embedding.OpenAIEmbed… │ │
│ │                           object at 0x1529da973ad0>                      │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/tiktoken/regi │
│ stry.py:86 in get_encoding                                                   │
│                                                                              │
│   83 │   │   │   )                                                           │
│   84 │   │                                                                   │
│   85 │   │   constructor = ENCODING_CONSTRUCTORS[encoding_name]              │
│ ❱ 86 │   │   enc = Encoding(**constructor())                                 │
│   87 │   │   ENCODINGS[encoding_name] = enc                                  │
│   88 │   │   return enc                                                      │
│   89                                                                         │
│                                                                              │
│ ╭─────────── locals ────────────╮                                            │
│ │ encoding_name = 'cl100k_base' │                                            │
│ ╰───────────────────────────────╯                                            │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/tiktoken_ext/ │
│ openai_public.py:76 in cl100k_base                                           │
│                                                                              │
│    73                                                                        │
│    74                                                                        │
│    75 def cl100k_base():                                                     │
│ ❱  76 │   mergeable_ranks = load_tiktoken_bpe(                               │
│    77 │   │   "https://openaipublic.blob.core.windows.net/encodings/cl100k_b │
│    78 │   │   expected_hash="223921b76ee99bde995b7ff738513eef100fb51d18c9359 │
│    79 │   )                                                                  │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/tiktoken/load │
│ .py:144 in load_tiktoken_bpe                                                 │
│                                                                              │
│   141                                                                        │
│   142 def load_tiktoken_bpe(tiktoken_bpe_file: str, expected_hash: str | Non │
│   143 │   # NB: do not add caching to this function                          │
│ ❱ 144 │   contents = read_file_cached(tiktoken_bpe_file, expected_hash)      │
│   145 │   return {                                                           │
│   146 │   │   base64.b64decode(token): int(rank)                             │
│   147 │   │   for token, rank in (line.split() for line in contents.splitlin │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │     expected_hash = '223921b76ee99bde995b7ff738513eef100fb51d18c93597a1… │ │
│ │ tiktoken_bpe_file = 'https://openaipublic.blob.core.windows.net/encodin… │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/tiktoken/load │
│ .py:63 in read_file_cached                                                   │
│                                                                              │
│    60 │   │   except OSError:                                                │
│    61 │   │   │   pass                                                       │
│    62 │                                                                      │
│ ❱  63 │   contents = read_file(blobpath)                                     │
│    64 │   if expected_hash and not check_hash(contents, expected_hash):      │
│    65 │   │   raise ValueError(                                              │
│    66 │   │   │   f"Hash mismatch for data downloaded from {blobpath} (expec │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │             blobpath = 'https://openaipublic.blob.core.windows.net/enco… │ │
│ │            cache_dir = '/tmp/data-gym-cache'                             │ │
│ │            cache_key = '9b5ad71b2ce5302211f9c61530b329a4922fc6a4'        │ │
│ │           cache_path = '/tmp/data-gym-cache/9b5ad71b2ce5302211f9c61530b… │ │
│ │        expected_hash = '223921b76ee99bde995b7ff738513eef100fb51d18c9359… │ │
│ │ user_specified_cache = False                                             │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/tiktoken/load │
│ .py:24 in read_file                                                          │
│                                                                              │
│    21 │   │   with blobfile.BlobFile(blobpath, "rb") as f:                   │
│    22 │   │   │   return f.read()                                            │
│    23 │   # avoiding blobfile for public files helps avoid auth issues, like │
│ ❱  24 │   resp = requests.get(blobpath)                                      │
│    25 │   resp.raise_for_status()                                            │
│    26 │   return resp.content                                                │
│    27                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │ blobpath = 'https://openaipublic.blob.core.windows.net/encodings/cl100k… │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/requests/api. │
│ py:73 in get                                                                 │
│                                                                              │
│    70 │   :rtype: requests.Response                                          │
│    71 │   """                                                                │
│    72 │                                                                      │
│ ❱  73 │   return request("get", url, params=params, **kwargs)                │
│    74                                                                        │
│    75                                                                        │
│    76 def options(url, **kwargs):                                            │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │ kwargs = {}                                                              │ │
│ │ params = None                                                            │ │
│ │    url = 'https://openaipublic.blob.core.windows.net/encodings/cl100k_b… │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/requests/api. │
│ py:59 in request                                                             │
│                                                                              │
│    56 │   # avoid leaving sockets open which can trigger a ResourceWarning i │
│    57 │   # cases, and look like a memory leak in others.                    │
│    58 │   with sessions.Session() as session:                                │
│ ❱  59 │   │   return session.request(method=method, url=url, **kwargs)       │
│    60                                                                        │
│    61                                                                        │
│    62 def get(url, params=None, **kwargs):                                   │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │  kwargs = {'params': None}                                               │ │
│ │  method = 'get'                                                          │ │
│ │ session = <requests.sessions.Session object at 0x1529db6d2ed0>           │ │
│ │     url = 'https://openaipublic.blob.core.windows.net/encodings/cl100k_… │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/requests/sess │
│ ions.py:589 in request                                                       │
│                                                                              │
│   586 │   │   │   "allow_redirects": allow_redirects,                        │
│   587 │   │   }                                                              │
│   588 │   │   send_kwargs.update(settings)                                   │
│ ❱ 589 │   │   resp = self.send(prep, **send_kwargs)                          │
│   590 │   │                                                                  │
│   591 │   │   return resp                                                    │
│   592                                                                        │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │ allow_redirects = True                                                   │ │
│ │            auth = None                                                   │ │
│ │            cert = None                                                   │ │
│ │         cookies = None                                                   │ │
│ │            data = None                                                   │ │
│ │           files = None                                                   │ │
│ │         headers = None                                                   │ │
│ │           hooks = None                                                   │ │
│ │            json = None                                                   │ │
│ │          method = 'get'                                                  │ │
│ │          params = None                                                   │ │
│ │            prep = <PreparedRequest [GET]>                                │ │
│ │         proxies = {}                                                     │ │
│ │             req = <Request [GET]>                                        │ │
│ │            self = <requests.sessions.Session object at 0x1529db6d2ed0>   │ │
│ │     send_kwargs = {                                                      │ │
│ │                   │   'timeout': None,                                   │ │
│ │                   │   'allow_redirects': True,                           │ │
│ │                   │   'proxies': OrderedDict(),                          │ │
│ │                   │   'stream': False,                                   │ │
│ │                   │   'verify': True,                                    │ │
│ │                   │   'cert': None                                       │ │
│ │                   }                                                      │ │
│ │        settings = {                                                      │ │
│ │                   │   'proxies': OrderedDict(),                          │ │
│ │                   │   'stream': False,                                   │ │
│ │                   │   'verify': True,                                    │ │
│ │                   │   'cert': None                                       │ │
│ │                   }                                                      │ │
│ │          stream = None                                                   │ │
│ │         timeout = None                                                   │ │
│ │             url = 'https://openaipublic.blob.core.windows.net/encodings… │ │
│ │          verify = None                                                   │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/requests/sess │
│ ions.py:703 in send                                                          │
│                                                                              │
│   700 │   │   start = preferred_clock()                                      │
│   701 │   │                                                                  │
│   702 │   │   # Send the request                                             │
│ ❱ 703 │   │   r = adapter.send(request, **kwargs)                            │
│   704 │   │                                                                  │
│   705 │   │   # Total elapsed time of the request (approximately)            │
│   706 │   │   elapsed = preferred_clock() - start                            │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │         adapter = <requests.adapters.HTTPAdapter object at               │ │
│ │                   0x1529db71e910>                                        │ │
│ │ allow_redirects = True                                                   │ │
│ │           hooks = {'response': []}                                       │ │
│ │          kwargs = {                                                      │ │
│ │                   │   'timeout': None,                                   │ │
│ │                   │   'proxies': OrderedDict(),                          │ │
│ │                   │   'stream': False,                                   │ │
│ │                   │   'verify': True,                                    │ │
│ │                   │   'cert': None                                       │ │
│ │                   }                                                      │ │
│ │         request = <PreparedRequest [GET]>                                │ │
│ │            self = <requests.sessions.Session object at 0x1529db6d2ed0>   │ │
│ │           start = 1738977175.254602                                      │ │
│ │          stream = False                                                  │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
│                                                                              │
│ /home/jx0800/.conda/envs/graphrag/lib/python3.11/site-packages/requests/adap │
│ ters.py:700 in send                                                          │
│                                                                              │
│   697 │   │   │   │   # This branch is for urllib3 v1.22 and later.          │
│   698 │   │   │   │   raise SSLError(e, request=request)                     │
│   699 │   │   │                                                              │
│ ❱ 700 │   │   │   raise ConnectionError(e, request=request)                  │
│   701 │   │                                                                  │
│   702 │   │   except ClosedPoolError as e:                                   │
│   703 │   │   │   raise ConnectionError(e, request=request)                  │
│                                                                              │
│ ╭───────────────────────────────── locals ─────────────────────────────────╮ │
│ │    cert = None                                                           │ │
│ │ chunked = False                                                          │ │
│ │    conn = <urllib3.connectionpool.HTTPSConnectionPool object at          │ │
│ │           0x1529dad28850>                                                │ │
│ │ proxies = OrderedDict()                                                  │ │
│ │ request = <PreparedRequest [GET]>                                        │ │
│ │    self = <requests.adapters.HTTPAdapter object at 0x1529db71e910>       │ │
│ │  stream = False                                                          │ │
│ │ timeout = Timeout(connect=None, read=None, total=None)                   │ │
│ │     url = '/encodings/cl100k_base.tiktoken'                              │ │
│ │  verify = True                                                           │ │
│ ╰──────────────────────────────────────────────────────────────────────────╯ │
╰──────────────────────────────────────────────────────────────────────────────╯
ConnectionError: HTTPSConnectionPool(host='openaipublic.blob.core.windows.net', 
port=443): Max retries exceeded with url: /encodings/cl100k_base.tiktoken 
(Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 
0x1529d81521d0>: Failed to resolve 'openaipublic.blob.core.windows.net' ([Errno 
-2] Name or service not known)"))
slurmstepd: error: *** JOB 62116526 ON della-i14g9 CANCELLED AT 2025-02-07T20:13:44 ***
